---
type: FrontEnd
title: ES5 to ESNext‚Ää‚Äî‚Äähere‚Äôs every feature added to JavaScript since 2015
link: https://medium.freecodecamp.org/es5-to-esnext-heres-every-feature-added-to-javascript-since-2015-d0c255e13c6e
author: [Flavio Copes](https://medium.freecodecamp.org/@flaviocopes)
---
# ES5 to ESNext‚Ää‚Äî‚Ää Ëá™ 2015 ‰ª•Êù• JavaScript Êñ∞Â¢ûÁöÑÊâÄÊúâÊñ∞ÁâπÊÄß

![img](https://cdn-images-1.medium.com/max/2000/1*QZppItKE3Sqdi3kZA-TNGQ.png)

ËøôÁØáÊñáÁ´†ÁöÑÂá∫ÂèëÁÇπÊòØ‰∏∫‰∫ÜÂ∏ÆÂä©ÂâçÁ´ØÂºÄÂèëËÄÖ‰∏≤ËÅî ES6ÂâçÂêéÁöÑ JavaScript Âè™ÊòØÔºåÂπ∂‰∏îÂèØ‰ª•Âø´ÈÄü‰∫ÜËß£ JavaScript ËØ≠Ë®ÄÁöÑÊúÄÊñ∞ËøõÂ±ï„ÄÇ

JavaScript Âú®ÂΩì‰∏ãÂ§Ñ‰∫éÁâπÊùÉÂú∞‰ΩçÔºåÂõ†‰∏∫ÂÆÉÊòØÂîØ‰∏ÄÂèØ‰ª•Âú®ÊµèËßàÂô®‰∏≠ËøêË°åÁöÑËØ≠Ë®ÄÔºåÂπ∂‰∏îÊòØË¢´È´òÂ∫¶ÈõÜÊàêÂíå‰ºòÂåñËøáÁöÑ„ÄÇ

JavaScript Âú®Êú™Êù•ÊúâÁùÄÊûÅÂ•ΩÁöÑÂèëÂ±ïÁ©∫Èó¥ÔºåË∑ü‰∏äÂÆÉÁöÑÂèòÂåñ‰∏ç‰ºöÊØîÁé∞Âú®Êõ¥Âä†ÁöÑÂõ∞Èöæ„ÄÇÊàëÁöÑÁõÆÊ†áÊòØËÆ©‰Ω†ËÉΩÂ§üÂø´ÈÄü‰∏îÂÖ®Èù¢ÁöÑ‰∫ÜËß£ËøôÈó®ËØ≠Ë®ÄÂèØ‰ª•‰ΩøÁî®ÁöÑÊñ∞ÂÜÖÂÆπ„ÄÇ

[**ÁÇπÂáªËøôÈáåËé∑Âèñ PDF/ePub/Mobi ÁâàÊú¨**](https://flaviocopes.com/es5-to-next/)

#### ÁõÆÂΩï

[**ECMAScript ÁÆÄ‰ªã**](https://medium.com/p/d0c255e13c6e#3641)

**ES2015**

- [let Âíå const](#letÂíåconst)
- [ÁÆ≠Â§¥ÂáΩÊï∞](https://medium.com/p/d0c255e13c6e#1d7c)
- [Á±ª](https://medium.com/p/d0c255e13c6e#5609)
- [ÈªòËÆ§ÂèÇÊï∞](https://medium.com/p/d0c255e13c6e#679e)
- [Ê®°ÊùøÂ≠óÁ¨¶‰∏≤](https://medium.com/p/d0c255e13c6e#1676)
- [ÁªìÊûÑËµãÂÄº](https://medium.com/p/d0c255e13c6e#c962)
- [Â¢ûÂº∫ÁöÑÂØπË±°Â≠óÈù¢Èáè](https://medium.com/p/d0c255e13c6e#438e)
- [For-of Âæ™ÁéØ](https://medium.com/p/d0c255e13c6e#3189)
- [Promises](https://medium.com/p/d0c255e13c6e#6295)
- [Ê®°Âùó](https://medium.com/p/d0c255e13c6e#1250)
- [String ÁöÑÊñ∞ÊñπÊ≥ï](https://medium.com/p/d0c255e13c6e#b1bc)
- [Object ÁöÑÊñ∞ÊñπÊ≥ï](https://medium.com/p/d0c255e13c6e#928f)
- [Â±ïÂºÄËøêÁÆóÁ¨¶](https://medium.com/p/d0c255e13c6e#c80e)
- [Set](https://medium.com/p/d0c255e13c6e#62ad)
- [Map](https://medium.com/p/d0c255e13c6e#c981)
- [Generators](https://medium.com/p/d0c255e13c6e#c668)

**ES2016**

- [Array.prototype.includes()](https://medium.com/p/d0c255e13c6e#b599)
- [Ê±ÇÂπÇËøêÁÆóÁ¨¶](https://medium.com/p/d0c255e13c6e#2050)

**ES2017**

- [String Â°´ÂÖÖ padding](https://medium.com/p/d0c255e13c6e#95af)
- [Object.values()](https://medium.com/p/d0c255e13c6e#21cc)
- [Object.entries()](https://medium.com/p/d0c255e13c6e#b188)
- [Object.getOwnPropertyDescriptors()](https://medium.com/p/d0c255e13c6e#4d8c)
- [Â∞æÂêéÈÄóÂè∑](https://medium.com/p/d0c255e13c6e#9e68)
- [ÂÖ±‰∫´ÂÜÖÂ≠ò and ÂéüÂ≠êÊìç‰Ωú](https://medium.com/p/d0c255e13c6e#6bc5)

**ES2018**

- [Rest/Spread Properties](https://medium.com/p/d0c255e13c6e#63f6)
- [Asynchronous iteration](https://medium.com/p/d0c255e13c6e#301d)
- [Promise.prototype.finally()](https://medium.com/p/d0c255e13c6e#d396)
- [Ê≠£ÂàôË°®ËææÂºèÊîπËøõ](https://medium.com/p/d0c255e13c6e#3fa1)

[**ESNext**](https://medium.com/p/d0c255e13c6e#241b)

- [Array.prototype.{flat,flatMap}](https://medium.com/p/d0c255e13c6e#24dc)
- [try/catch ÂèØÈÄâÁöÑÂèÇÊï∞ÁªëÂÆö](https://medium.com/p/d0c255e13c6e#7b25)
- [Object.fromEntries()](https://medium.com/p/d0c255e13c6e#8aed)
- [String.prototype.{trimStart,trimEnd}](https://medium.com/p/d0c255e13c6e#ae63)
- [Symbol.prototype.description](https://medium.com/p/d0c255e13c6e#4954)
- [JSON improvements](https://medium.com/p/d0c255e13c6e#b93d)
- [Well-formed JSON.stringify()](https://medium.com/p/d0c255e13c6e#835a)
- [Function.prototype.toString()](https://medium.com/p/d0c255e13c6e#b38b)

### ECMAScript ÁÆÄ‰ªã

ÊØèÂΩìÈòÖËØª JavaScript Áõ∏ÂÖ≥ÁöÑÊñáÁ´†Êó∂ÔºåÊàëÈÉΩ‰ºöÁªèÂ∏∏ÈÅáÂà∞Â¶Ç‰∏ãÊúØËØ≠Ôºö ES3, ES5, ES6, ES7, ES8, ES2015, ES2016, ES2017, ECMAScript 2017, ECMAScript 2016, ECMAScript 2015 Á≠âÁ≠âÔºåÈÇ£‰πàÂÆÉ‰ª¨ÊòØÊåá‰ª£ÁöÑÊòØ‰ªÄ‰πàÔºü

ÂÆÉ‰ª¨Êåá‰ª£ÁöÑÈÉΩÊòØ‰∏Ä‰∏™Âêç‰∏∫ ECMAScript ÁöÑÊ†áÂáÜ„ÄÇ

JavaScript Â∞±ÊòØÂü∫‰∫éËøô‰∏™Ê†áÂáÜÂÆûÁé∞ÁöÑÔºåECMAScript ÁªèÂ∏∏Áº©ÂÜô‰∏∫ ES„ÄÇ

Èô§‰∫Ü JavaScript ‰ª•Â§ñÔºåÂÖ∂ÂÆÉÂü∫‰∫é ECMAScript ÂÆûÁé∞ËØ≠Ë®ÄÂåÖÊã¨Ôºö

- *ActionScript* ( Flash ËÑöÊú¨ËØ≠Ë®Ä)ÔºåÁî±‰∫é Adobe Â∞Ü‰∫é 2020 Âπ¥Êú´ÂÅúÊ≠¢ÂØπ Flash ÁöÑÊîØÊåÅËÄåÈÄêÊ∏êÂ§±ÂéªÁÉ≠Â∫¶„ÄÇ
- *JScript* (ÂæÆËΩØÂºÄÂèëÁöÑËÑöÊú¨ËØ≠Ë®Ä),Âú®Á¨¨‰∏ÄÊ¨°ÊµèËßàÂô®Â§ßÊàòÊúÄÊøÄÁÉàÁöÑÊó∂ÊúüÔºåJavaScript Âè™Ë¢´NetscapeÊâÄÊîØÊåÅÔºåÂæÆËΩØÂøÖÈ°ª‰∏∫ Internet Explorer ÊûÑÂª∫Ëá™Â∑±ÁöÑËÑöÊú¨ËØ≠Ë®Ä„ÄÇ

‰ΩÜÊòØÁé∞Âú®**ÊµÅ‰º†ÊúÄÂπø**„ÄÅÂΩ±ÂìçÊúÄÂ§ßÁöÑÂü∫‰∫é ES Ê†áÂáÜÁöÑËØ≠Ë®ÄÂÆûÁé∞Êó†ÁñëÂ∞±ÊòØ JavaScript‰∫Ü

ECMAScript Ëøô‰∏™Â•áÊÄ™ÁöÑÂêçÁß∞Ëµ∑Ê∫êÊòØ‰ªÄ‰πàÂë¢Ôºü**Ecma International** ÊòØÁëûÂ£´Ê†áÂáÜÂçè‰ºöÔºåË¥üË¥£Âà∂ÂÆöÂõΩÈôÖÊ†áÂáÜ„ÄÇ

JavaScript Ë¢´ÂàõÂª∫‰ª•ÂêéÔºåÁªèÁî± Netscape Âíå Sun Microsystems ÂÖ¨Âè∏Êèê‰∫§ÁªôÊ¨ßÊ¥≤ËÆ°ÁÆóÊú∫Âà∂ÈÄ†ÂïÜÂçè‰ºöËøõË°åÊ†áÂáÜÂåñÔºåË¢´ÈááÁ∫≥ÁöÑ ECMA-262 ÂèàË¢´Áß∞‰∏∫  **ECMAScript**„ÄÇ

[This press release by Netscape and Sun Microsystems](https://web.archive.org/web/20070916144913/http://wp.netscape.com/newsref/pr/newsrelease67.html) (the maker of Java) might help figure out the name choice, which might include legal and branding issues by Microsoft which was in the committee, [according to Wikipedia](https://en.wikipedia.org/wiki/ECMAScript).

Âú® IE9 ‰πãÂêéÔºåÂú®ÂæÆËΩØÁöÑÊµèËßàÂô®‰∏≠Â∞±Áúã‰∏çÂà∞ÂØπ JScript Ëøô‰∏™ÂëΩÂêçÁöÑÂºïÁî®ÔºåÂèñËÄå‰ª£‰πãÁöÑÊòØÁªüÁß∞‰∏∫ JavaScript„ÄÇ

Âõ†Ê≠§ÔºåÊà™Ëá≥201xÔºåJavaScript Êàê‰∏∫ÊúÄÊµÅË°åÁöÑÂü∫‰∫é ECMAScript ËßÑËåÉÂÆûÁé∞ÁöÑËØ≠Ë®Ä„ÄÇ

#### ECMAScript ÂΩìÂâçÁöÑÁâàÊú¨„ÄÇ

ÁõÆÂâçÁöÑÊúÄÊñ∞ÁöÑ ECMAScript ÁâàÊú¨ÊòØ **ES2018**„ÄÇ

‰∫é 2018 Âπ¥ 6 ÊúàÂèëÂ∏É„ÄÇ

#### TC39 ÊòØ‰ªÄ‰πàÔºü

TC39ÔºàTechnical Committee 39ÔºâÊòØ‰∏Ä‰∏™Êé®Âä® JavaScript ÂèëÂ±ïÁöÑÂßîÂëò‰ºö„ÄÇ

C39ÁöÑÊàêÂëòÊòØ ÂÆÉÁöÑÊàêÂëòÂåÖÊã¨ÂêÑ‰∏™‰∏ªÊµÅÊµèËßàÂô®ÂéÇÂïÜ‰ª•Âèä‰∏öÂä°‰∏éÊµèËßàÂô®Á¥ßÂØÜÁõ∏ËøûÁöÑÂÖ¨Âè∏ÔºåÂÖ∂‰∏≠ÂåÖÊã¨ MozillaÔºåGoogle ÔºåFacebookÔºåAppleÔºåMicrosoftÔºåIntelÔºåPayPalÔºåSalesForceÁ≠â„ÄÇ

ÊØè‰∏™Ê†áÂáÜÁâàÊú¨ÊèêÊ°àÈÉΩÂøÖÈ°ªÁªèËøáÂõõ‰∏™‰∏çÂêåÁöÑÈò∂ÊÆµÔºå[ËøôÈáåÊúâËØ¶ÁªÜÁöÑËß£Èáä](https://tc39.github.io/process-document/)„ÄÇ

#### ES Versions

‰ª§ÊàëË¥πËß£ÁöÑÊòØ ES ÁâàÊú¨ÁöÑÂëΩÂêç‰æùÊçÆÊúâÊó∂Ê†πÊçÆËø≠‰ª£ÁöÑÁâàÊú¨Âè∑ÔºåÊúâÊó∂Âç¥Ê†πÊçÆÂπ¥‰ªΩÊù•ËøõË°åÂëΩÂêç„ÄÇËÄåËøô‰∏™ÂëΩÂêçÁöÑ‰∏çÁ°ÆÂÆöÊÄßÂèà‰ΩøÂæó‰∫∫‰ª¨Êõ¥Âä†ÂÆπÊòìÊ∑∑Ê∑Ü JS/ES Ëøô‰∏™‰∏§‰∏™Ê¶ÇÂøµüòÑ„ÄÇ

Âú® ES2015 ‰πãÂâçÔºåECMAScript ÂêÑ‰∏™ÁâàÊú¨ÁöÑÂëΩÂêçËßÑËåÉÈÄöÂ∏∏‰∏éË∑üÁùÄÊ†áÂáÜÁöÑÁâàÊú¨Êõ¥Êñ∞‰øùÊåÅ‰∏ÄËá¥„ÄÇÂõ†Ê≠§Ôºå2009Âπ¥ ECMAScript ËßÑËåÉÊõ¥Êñ∞‰ª•ÂêéÁöÑÁöÑÊ≠£ÂºèÁâàÊú¨ÊòØ ES5„ÄÇ

Why does this happen? During the process that led to ES2015, the name was changed from ES6 to ES2015, but since this was done late, people still referenced it as ES6, and the community has not left the edition naming behind‚Ää‚Äî‚Ää*the world is still calling ES releases by edition number*.

This table should clear things up a bit:



![img](https://cdn-images-1.medium.com/max/1600/1*ta8eBjBIGeJucahugjlopg.png)

Êé•‰∏ãÂï¶Êàë‰ª¨Êù•Ê∑±ÂÖ•‰∫ÜËß£ JavaScript Ëá™ ES5 ‰ª•Êù•Â¢ûÂä†ÁöÑÁâπÊÄß„ÄÇ

### letÂíåconst

ES2015 ‰πãÂâç, `var` ÊòØÂîØ‰∏ÄÂèØ‰ª•Áî®Êù•Â£∞ÊòéÂèòÈáèÁöÑËØ≠Âè•„ÄÇ

```js
var a = 0
```

‰∏äÈù¢ËØ≠Âè•Â¶ÇÊûú‰Ω†ÈÅóÊºè‰∫Ü `var`ÔºåÈÇ£‰πà‰Ω†‰ºöÊääËøô‰∏™ÂÄºÔºà0ÔºâËµãÁªô‰∏Ä‰∏™Êú™Â£∞ÊòéÁöÑÂèòÈáèÔºåÂÖ∂‰∏≠Â£∞ÊòéÂíåÊú™Â£∞ÊòéÂèòÈáè‰πãÈó¥Â≠òÂú®‰∏Ä‰∫õÂ∑ÆÂºÇ„ÄÇ

Âú®Áé∞‰ª£ÊµèËßàÂô®ÂºÄÂêØ‰∏•Ê†ºÊ®°ÂºèÊó∂ÔºåÁªôÊú™Â£∞ÊòéÁöÑÂèòÈáèËµãÂÄº‰ºöÊäõÂá∫ ReferenceError ÂºÇÂ∏∏ÔºåÂú®ËæÉËÄÅÁöÑÊµèËßàÂô®ÔºàÊàñËÄÖÁ¶ÅÁî®‰∏•Ê†ºÊ®°ÂºèÔºâÁöÑÊÉÖÂÜµ‰∏ãÔºåÊú™Â£∞ÊòéÁöÑÂèòÈáèÂú®ÊâßË°åËµãÂÄºÊìç‰ΩúÊó∂‰ºöÈöêÂºèÁöÑÂèò‰∏∫ÂÖ®Â±ÄÂØπË±°ÁöÑÂ±ûÊÄß„ÄÇ

ÂΩì‰Ω†Â£∞Êòé‰∏Ä‰∏™ÂèòÈáèÂç¥Ê≤°ÊúâËøõË°åÂàùÂßãÂåñÔºåÈÇ£‰πàÂÆÉÁöÑÂÄºÁõ¥Âà∞‰Ω†ÂØπÂÆÉËøõË°åËµãÂÄºÊìç‰Ωú‰πãÂâçÈÉΩÊòØ `undefined` „ÄÇ

```js
var a //typeof a === 'undefined'
```

‰Ω†ÂèØ‰ª•ÂØπ‰∏Ä‰∏™ÂèòÈáèËøõË°åÂ§öÊ¨°ÂèòÈáèÔºåÂêéÈù¢Â£∞ÊòéËØ≠Âè•‰ºöË¶ÜÁõñ‰πãÂâçÁöÑÔºö

```js
var a = 1
var a = 2
```

‰Ω†‰πüÂèØ‰ª•Âú®‰∏ÄÊù°Â£∞ÊòéËØ≠Âè•‰∏≠‰∏ÄÊ¨°Â£∞ÊòéÂ§ö‰∏™ÂèòÈáèÔºö

```js
var a = 1, b = 2
```

**‰ΩúÁî®Âüü**ÊòØÂèØËÆøÈóÆÂèòÈáèÁöÑÈõÜÂêà„ÄÇ

Âú®ÂáΩÊï∞Â§ñÈÉ®Áî®Â£∞Êòé `var` Â£∞ÊòéÁöÑÂèòÈáè‰ºöÊàê‰∏∫ÂÖ®Â±ÄÂèòÈáèÁöÑÂ±ûÊÄßÔºåËøôÁßçÂèòÈáèÂèØ‰ª•Âú®ÂÖ®Â±Ä‰ΩúÁî®Âüü‰∏≠Ë¢´ËÆøÈóÆÂà∞„ÄÇËÄåÂú®ÂáΩÊï∞ÂÜÖÈÉ®Â£∞ÊòéÁöÑÂèòÈáèÂè™ËÉΩÂú®ÂáΩÊï∞Â±ÄÈÉ®‰ΩúÁî®ÂüüË¢´ËÆøÈóÆÂà∞ÔºåÂú®ËøôÁÇπ‰∏äÁ±ª‰ºº‰∫éÂáΩÊï∞ÂèÇÊï∞„ÄÇ

Âú®ÂáΩÊï∞‰∏≠ÂÆö‰πâÁöÑÂ±ÄÈÉ®ÂèòÈáèÂêçÂ¶Ç‰ΩïË∑üÂÖ®Â±ÄÂèòÈáèÈáçÂêçÔºåÈÇ£‰πàÂ±ÄÈÉ®ÂèòÈáèÁöÑ‰ºòÂÖàÁ∫ßÊõ¥È´òÔºåÂú®ÂáΩÊï∞ÂÜÖÊó†Ê≥ïËÆøÈóÆÂà∞ÂêåÂêçÁöÑÂÖ®Â±ÄÂèòÈáè„ÄÇ

ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå`var` ÊòØÊ≤°ÊúâÂùóÁ∫ß‰ΩúÁî®ÂüüÔºàÊ†áËØÜÁ¨¶ÊòØ‰∏ÄÂØπËä±Êã¨Âè∑ÔºâÁöÑÔºå‰ΩÜÊòØ `var` ÊòØÊúâÂáΩÊï∞‰ΩúÁî®ÂüüÁöÑÔºåÊâÄ‰ª•Âú®Êñ∞ÂàõÂª∫ÁöÑÂùóÁ∫ß‰ΩúÁî®ÂüüÊàñËÄÖÊòØÂáΩÊï∞‰ΩúÁî®ÂüüÈáåÈù¢Â£∞ÊòéÂèòÈáè‰ºöË¶ÜÁõñÂÖ®Â±ÄÂêåÂêçÂèòÈáèÔºåÂõ†‰∏∫ `var` Âú®Ëøô‰∏§ÁßçÊÉÖÂÜµ‰∏ãÊ≤°ÊúâÂàõÂª∫Êñ∞ÁöÑ‰ΩúÁî®Âüü„ÄÇ

Âú®ÂáΩÊï∞ÂÜÖÈÉ®ÔºåÂÖ∂‰∏≠ÂÆö‰πâÁöÑ‰ªª‰ΩïÂèòÈáèÂú®ÊâÄÊúâÂáΩÊï∞‰ª£Á†Å‰∏≠ÈÉΩÊòØÂèØËßÅÁöÑÔºåÂõ†‰∏∫JavaScriptÂú®ÊâßË°å‰ª£Á†Å‰πãÂâçÂÆûÈôÖ‰∏äÂ∞ÜÊâÄÊúâÂèòÈáèÈÉΩÁßªÂà∞‰∫ÜÈ°∂Â±ÇÔºàË¢´Áß∞‰∏∫ÊÇ¨ÊåÇÁöÑ‰∏úË•øÔºâ„ÄÇ
Âú®ÂáΩÊï∞ÁöÑÂÜÖÈÉ®ÂÆö‰πâÁöÑÂèòÈáèÂú®Êï¥‰∏™ÂáΩÊï∞‰ΩúÁî®Âüü‰∏≠ÈÉΩÊòØÂèØËßÅÔºàÂèØËÆøÈóÆÔºâÔºåÂç≥‰ΩøÂèòÈáèÊòØÂú®ÂáΩÊï∞‰ΩìÊú´Â∞æË¢´Â£∞ÊòéÔºå‰ΩÜÊòØ‰ªçÁÑ∂ÂèØ‰ª•ÂÜçÂáΩÊï∞‰ΩìÂºÄÂ§¥ÈÉ®ÂàÜË¢´ÂºïÁî®ÔºåÂõ†‰∏∫ JavaScriptÂ≠òÂú®**ÂèòÈáèÊèêÂçá**Êú∫Âà∂„ÄÇ‰∏∫ÈÅøÂÖçÊ∑∑Ê∑ÜÔºåËØ∑Âú®ÂáΩÊï∞ÂºÄÂ§¥Â£∞ÊòéÂèòÈáèÔºåÂÖªÊàêËâØÂ•ΩÁöÑÁºñÁ†ÅËßÑËåÉ„ÄÇ

#### Using `let`

`let` ÊòØES2015‰∏≠ÂºïÂÖ•ÁöÑÊñ∞ÂäüËÉΩÔºåÂÆÉÊú¨Ë¥®‰∏äÊòØÂÖ∑ÊúâÂùóÁ∫ß‰ΩúÁî®ÂüüÁöÑ `var` „ÄÇÂÆÉÂèØ‰ª•Ë¢´ÂΩìÂâç‰ΩúÁî®ÂüüÔºàÂáΩÊï∞‰ª•ÂèäÂùóÁ∫ß‰ΩúÁî®ÂüüÔºâ‰ª•ÂèäÂ≠êÁ∫ß‰ΩúÁî®ÂüüËÆøÈóÆÂà∞„ÄÇ

Áé∞‰ª£ JavaScript ÂºÄÂèëËÄÖÂú® `let` Âíå `var` ÁöÑÈÄâÊã©‰∏≠ÂèØËÉΩ‰ºöÊõ¥ÂÄæÂêë‰∫éÂâçËÄÖ„ÄÇ

> **Â¶ÇÊûú** `*let*` **ÁúãËµ∑Êù•ÊØîËæÉÊäΩË±°ÔºåÈÇ£‰πàËØïÁùÄËØª‰∏Ä‰∏ãËøôÊÆµ‰ª£Á†Å** `*let color = 'red'*`Â∞±Â•ΩÂÉèÊòØ ËÆ©È¢úËâ≤Âèò‰∏∫Á∫¢Ëâ≤ÔºåËøôÊ†∑ÂèØËÉΩ‰ºöÊõ¥Âä†ÊúâÊÑüÊÄßÁöÑËÆ§ËØÜÔºàËØëËÄÖÔºöËøôÊÆµÊàëÁúüÁöÑ‰∏ç‰ºöÁøªËØë‰∫ÜÔºâ„ÄÇ

Defining `let` outside of any function - contrary to `var` - does not create a global variable.

#### Using `const`

‰ΩøÁî®ÂèòÈáè `var` Êàñ `let` Â£∞ÊòéÁöÑÂèòÈáèÂèØ‰ª•Ë¢´ÈáçÊñ∞ËµãÂÄº„ÄÇ ‰ΩøÁî® `const` Â£∞ÊòéÁöÑÂèòÈáè‰∏ÄÁªèÂàùÂßãÂåñÔºåÂÆÉÁöÑÂÄºÂ∞±Ê∞∏Ëøú‰∏çËÉΩÂÜçÊîπÂèòÔºåÂç≥‰∏çÂèØÈáçÊñ∞Ë¢´ËµãÂÄº„ÄÇ

```js
const a = 'test'
```

Êàë‰ª¨‰∏çËÉΩÂÜç‰∏∫ `a` ËøõË°åËµãÂÄºÊìç‰Ωú„ÄÇÁÑ∂ËÄåÔºå`a` Â¶ÇÊûúÂÆÉÊòØ‰∏Ä‰∏™ÂÖ∑ÊúâÂ±ûÊÄßÊàñËÄÖÊñπÊ≥ïÁöÑÂØπË±°ÔºåÈÇ£‰πàÊàë‰ª¨ÂèØ‰ª•ÊîπÂèòÂÆÉÁöÑÂ±ûÊÄßÊàñËÄÖÊñπÊ≥ï„ÄÇ

`const` Âπ∂‰∏çÊÑèÂë≥ÁùÄÂÖ∑Êúâ‰∏çÂèØÂèòÊÄßÔºåÂè™ÊòØ‰øùËØÅÁî® `const` Â£∞ÊòéÁöÑÂèòÈáèÁöÑÂºïÁî®Âú∞ÂùÄ‰∏çË¢´ÂèòÊõ¥„ÄÇ

Á±ª‰ºº‰∫é `let`Ôºå`const` ‰πüÂÖ∑ÊúâÂùóÁ∫ß‰ΩúÁî®Âüü„ÄÇ

Áé∞‰ª£ JavaScript ÂºÄÂèëËÄÖÂú®ÈÅáÂà∞‰∏ç‰ºöËøõË°å‰∫åÊ¨°ËµãÂÄºÁöÑÂèòÈáèÂ£∞ÊòéÊó∂ÔºåÂ∫îËØ•Â∞ΩÈáè‰ΩøÁî® `const`„ÄÇ

### ÁÆ≠Â§¥ÂáΩÊï∞

ÁÆ≠Â§¥ÂáΩÊï∞ÁöÑÂºïÂÖ•ÊûÅÂ§ßÁöÑÊîπÂèò‰∫Ü‰ª£Á†ÅÁöÑ‰π¶ÂÜôÈ£éÊ†ºÂíå‰∏Ä‰∫õÂ∑•‰ΩúÊú∫Âà∂„ÄÇ

Âú®ÊàëÁúãÊù•ÔºåÁÆ≠Â§¥ÂáΩÊï∞ÂæàÂèóÂºÄÂèëËÄÖÊ¨¢ËøéÔºåÁé∞Âú®ÂæàÂ∞ëÂú®ÊØîËæÉÊñ∞ÁöÑ‰ª£Á†ÅÂ∫ì‰∏≠ÁúãÂà∞ `function` ÂÖ≥ÈîÆÂ≠ó‰∫ÜÔºåËôΩÁÑ∂ÂÆÉÂπ∂Êú™Ë¢´Â∫üÂºÉ„ÄÇ

ÁÆ≠Â§¥ÂáΩÊï∞ÁúãËµ∑Êù•‰ºöÊõ¥Âä†ÁöÑÁÆÄÊ¥ÅÔºåÂõ†‰∏∫ÂÆÉÂÖÅËÆ∏ÊÇ®‰Ω†‰ΩøÁî®Êõ¥Áü≠ÁöÑËØ≠Ê≥ïÊù•‰π¶ÂÜôÂáΩÊï∞Ôºö

```js
const myFunction = function() {
  //...
}
```

Âà∞

```js
const myFunction = () => {
  //...
}
```

Â¶ÇÊûúÂáΩÊï∞‰ΩìÈáçÂè™ÂåÖÂê´‰∏ÄÊù°ËØ≠Âè•Ôºå‰Ω†ÁîöËá≥ÂèØ‰ª•ÁúÅÁï•Êã¨Âè∑Âπ∂Áõ¥Êé•‰π¶ÂÜôËøôÊù°ËØ≠Âè•Ôºö

```js
const myFunction = () => doSomething()
```

ÂèÇÊï∞Âú®Êã¨Âè∑‰∏≠‰º†ÈÄíÔºö

```js
const myFunction = (param1, param2) => doSomething(param1, param2)
```

Â¶ÇÊûúËØ•ÂáΩÊï∞**Âè™Êúâ‰∏Ä‰∏™**ÂèÇÊï∞ÔºåÈÇ£‰πàÂèØ‰ª•ÁúÅÁï•ÊéâÊã¨Âè∑Ôºö

```js
const myFunction = param => doSomething(param)
```

Thanks to this short syntax, arrow functions **encourage the use of small functions**.
Áî±‰∫éËøôÁßçÁÆÄÁü≠ÁöÑËØ≠Ê≥ïÔºå‰ΩøÂæóÊàë‰ª¨ÂèØ‰ª•Êõ¥‰æøÊç∑ÁöÑ‰ΩøÁî®**ÊØîËæÉÁÆÄÁü≠ÁöÑÂáΩÊï∞**

#### ÈöêÂºèËøîÂõû

ÁÆ≠Â§¥ÂáΩÊï∞ÊîØÊåÅÈöêÂºèËøîÂõûÔºöÂèØ‰ª•Ê≠£Â∏∏ÁöÑ `return` ‰∏Ä‰∏™ËøîÂõûÂÄº‰ΩÜÊòØÂèØ‰ª•‰∏ç‰ΩøÁî® `return` ÂÖ≥ÈîÆÂ≠ó„ÄÇ

ÈöêÂºèËøîÂõûÂè™Âú®ÂáΩÊï∞‰ΩìÂÜÖÂè™ÂåÖÂê´‰∏ÄÊù°ËØ≠Âè•ÁöÑÊÉÖÂÜµ‰∏ãÁîüÊïàÔºö

```js
const myFunction = () => 'test'
myFunction() //'test'
```

ÈúÄË¶ÅÊ≥®ÊÑèÁöÑ‰∏ÄÁßçÊÉÖÂÜµÔºåÂΩìËøîÂõû‰∏Ä‰∏™ÂØπË±°Êó∂ÔºåËÆ∞ÂæóÂ∞ÜÂ§ßÊã¨Âè∑Êã¨Âú®Êã¨Âè∑‰∏≠‰ª•ÈÅøÂÖç‰∫ßÁîüÊ≠ß‰πâÔºåËØØÂ∞ÜÂÖ∂ÔºàÂ§ßÊã¨Âè∑ÔºâËß£Êûê‰∏∫ÂáΩÊï∞‰ΩìÁöÑÂ§ßÊã¨Âè∑„ÄÇ

```js
const myFunction = () => ({ value: 'test' })
myFunction() //{value: 'test'}
```

#### ÁÆ≠Â§¥ÂáΩÊï∞‰∏≠ÁöÑ `this`

`this` ÂèØËÉΩÊòØ‰∏Ä‰∏™ÂæàÈöæÊéåÊè°ÁöÑÊ¶ÇÂøµÔºåÂõ†‰∏∫ÂÆÉ‰ºöÊ†πÊçÆ‰∏ä‰∏ãÊñáËÄåËøõË°åÂèòÂåñÔºåÂπ∂‰∏î‰ºöÂú®‰∏çÂêåÁöÑ JavaScriptÁöÑÊ®°ÂºèÔºàÊòØÂê¶‰∏∫*‰∏•Ê†ºÊ®°Âºè*Ôºâ‰∏ãË°®Áé∞Â≠òÂú®Â∑ÆÂºÇ„ÄÇ

ÁêÜËß£ `this` Ëøô‰∏™Ê¶ÇÂøµÂØπ‰∫éÁÆ≠Â§¥ÂáΩÊï∞ÁöÑ‰ΩøÁî®ÂæàÈáçË¶ÅÔºåÂõ†‰∏∫‰∏éÂ∏∏ËßÑÂáΩÊï∞Áõ∏ÊØîÔºåÁÆ≠Â§¥ÂáΩÊï∞ÁöÑË°®Áé∞ÈùûÂ∏∏‰∏çÂêå„ÄÇ

ÂØπË±°ÁöÑÊñπÊ≥ï‰∏∫Â∏∏ËßÑÂáΩÊï∞Êó∂ÔºåÊñπÊ≥ï‰∏≠ÁöÑ`this`ÊåáÂêëËøô‰∏™ÂØπË±°ÔºåÂõ†Ê≠§ÂèØ‰ª•ËøôÊ†∑ÂÅöÔºö

```js
const car = {
  model: 'Fiesta',
  manufacturer: 'Ford',
  fullName: function() {
    return `${this.manufacturer} ${this.model}`
  }
}
```

ÊâßË°å `car.fullName()` ‰ºöËøîÂõû `"Ford Fiesta"`„ÄÇ

Â¶ÇÊûú‰∏äËø∞ÊñπÊ≥ï‰ΩøÁî®ÊòØÊòØÁÆ≠Â§¥ÂáΩÊï∞ÔºåÁî±‰∫éÁÆ≠Â§¥‰∏≠ÁöÑ `this` ÁöÑ‰ΩúÁî®ÂüüÁªßÊâøËá™ÊâßË°å‰∏ä‰∏ãÊñáÔºåÁÆ≠Â§¥ÂáΩÊï∞Ëá™Ë∫´‰∏çÁªëÂÆö `this`ÔºåÂõ†Ê≠§ `this` ÁöÑÂÄºÂ∞ÜÂú®Ë∞ÉÁî®Â†ÜÊ†à‰∏≠Êü•ÊâæÔºåÂõ†Ê≠§Âú®Ê≠§‰ª£Á†Å `car.fullName()` ‰∏≠‰∏ç‰ºöËøîÂõûÂ∏∏ËßÑÂáΩÊï∞ÈÇ£Ê†∑ÁöÑÁªìÊûúÔºåÂÆûÈôÖ‰ºöËøîÂõûÂ≠óÁ¨¶‰∏≤ "undefined undefined"Ôºö

```js
const car = {
  model: 'Fiesta',
  manufacturer: 'Ford',
  fullName: () => {
    return `${this.manufacturer} ${this.model}`
  }
}
```

Âõ†Ê≠§ÔºåÁÆ≠Â§¥ÂáΩÊï∞‰∏çÈÄÇÂêà‰Ωú‰∏∫ÂØπË±°ÊñπÊ≥ï„ÄÇ

ÂêåÊ†∑ÔºåÁÆ≠Â§¥ÂáΩÊï∞‰πü‰∏çÈÄÇÂêà‰ΩøÁî®Âú®‰Ωú‰∏∫ÂàõÂª∫ÊûÑÈÄ†ÂáΩÊï∞,Âõ†‰∏∫Âú®ÂÆû‰æãÂåñÂØπË±°Êó∂‰ºöÊäõÂá∫ `TypeError`„ÄÇ

ÊâÄ‰ª•Âú®**‰∏çÈúÄË¶ÅÂä®ÊÄÅ‰∏ä‰∏ãÊñáÊó∂**ËØ∑‰ΩøÁî®Â∏∏ËßÑÂáΩÊï∞„ÄÇ

ÂΩìÁÑ∂ÔºåÂú®‰∫ã‰ª∂ÁõëÂê¨Âô®‰∏ä‰ΩøÁî®ÁÆ≠Â§¥ÂáΩÊï∞‰πü‰ºöÂ≠òÂú®ÈóÆÈ¢ò„ÄÇÂõ†‰∏∫ DOM ‰∫ã‰ª∂‰æ¶Âê¨Âô®‰ºöËá™Âä®Â∞Ü `this` ‰∏éÁõÆÊ†áÂÖÉÁ¥†ÁªëÂÆöÔºåÂ¶ÇÊûúËØ•‰∫ã‰ª∂Â§ÑÁêÜÁ®ãÂ∫èÁöÑÈÄªËæë‰æùËµñ `this`ÔºåÈÇ£‰πàÈúÄË¶ÅÂ∏∏ËßÑÂáΩÊï∞Ôºö

```js
const link = document.querySelector('#link')
link.addEventListener('click', () => {
  // this === window
})
const link = document.querySelector('#link')
link.addEventListener('click', function() {
  // this === link
})
```

### Classes

JavaScript ÂÆûÁé∞ÁªßÊâøÁöÑÊñπÂºèÊØîËæÉÁΩïËßÅÔºö[ÂéüÂûãÁªßÊâø]((https://flaviocopes.com/javascript-prototypal-inheritance/))„ÄÇÂéüÂûãÁªßÊâøËôΩÁÑ∂Âú®ÊàëÁúãÊù•ÂæàÊ£íÔºå‰ΩÜ‰∏éÂÖ∂‰ªñÂ§ßÂ§öÊï∞ÊµÅË°åÁöÑÁºñÁ®ãËØ≠Ë®ÄÁöÑÁªßÊâøÂÆûÁé∞Êú∫Âà∂‰∏çÂêåÔºåÂêéËÄÖÊòØÂü∫‰∫éÁ±ªÁöÑ„ÄÇ

Âõ†Ê≠§ Java„ÄÅPython ÊàñÂÖ∂‰ªñËØ≠Ë®ÄÁöÑÂºÄÂèëËÄÖÂæàÈöæÁêÜËß£ÂéüÂûãÁªßÊâøÁöÑÊñπÂºèÔºåÂõ†Ê≠§ ECMAScript ÂßîÂëò‰ºöÂÜ≥ÂÆöÂú®ÂéüÂûãÁªßÊâø‰πã‰∏äÂÆûÁé∞ class ÁöÑËØ≠Ê≥ïÁ≥ñÔºåËøôÊ†∑‰æø‰∫éÂ∞±Ë∑üÂÖ∂‰ªñÂü∫‰∫éÁ±ªÁöÑÁªßÊâøËØ≠Ë®ÄÁöÑÂºÄÂèëËÄÖÊõ¥Â•ΩÁöÑÁêÜËß£ JavaScript ‰ª£Á†Å„ÄÇ

This is important: JavaScript under the hood is still the same, and you can access an object prototype in the usual way.

Ê≥®ÊÑèÔºöclass Âπ∂Ê≤°ÊúâÂØπ JavaScript Â∫ïÂ±ÇÂÅö‰øÆÊîπÔºå‰Ω†‰ªçÁÑ∂ÂèØ‰ª•Áõ¥Êé•ËÆøÈóÆÂØπË±°ÂéüÂûã„ÄÇ
#### class ÂÆö‰πâ

Â¶Ç‰∏ãÊòØ‰∏Ä‰∏™ class  ÁöÑ‰æãÂ≠êÔºö

```js
class Person {
  constructor(name) {
    this.name = name
  }
  hello() {
    return 'Hello, I am ' + this.name + '.'
  }
}
```

 class ÂÖ∑Êúâ‰∏Ä‰∏™Ê†áËØÜÁ¨¶ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® `new ClassIdentifier()` Êù•ÂàõÂª∫‰∏Ä‰∏™ÂØπË±°ÂÆû‰æã„ÄÇ

ÂàùÂßãÂåñÂØπË±°Êó∂ÔºåË∞ÉÁî® `constructor`ÊñπÊ≥ïÔºåÂπ∂Â∞ÜÂèÇÊï∞‰º†ÈÄíÁªôÊ≠§ÊñπÊ≥ï„ÄÇ

Á±ªÂ£∞ÊòéËØ≠Âè•‰∏≠‰πüÂèØ‰ª•Â¢ûÂä†Á±ªÈúÄË¶ÅÁöÑ‰∏Ä‰∫õÂéüÂûãÊñπÊ≥ï„ÄÇÂú®ËøôÁßçÊÉÖÂÜµ‰∏ã `hello` ÊòØ `Person` Á±ªÁöÑ‰∏Ä‰∏™ÂéüÂûãÊñπÊ≥ïÔºåÂèØ‰ª•Âú®Ëøô‰∏™Á±ªÁöÑÂØπË±°ÂÆû‰æã‰∏äË∞ÉÁî®Ôºö

```js
const flavio = new Person('Flavio')
flavio.hello()
```

#### Class ÁªßÊâø

‰∏Ä‰∏™Á±ªËøòÂèØ‰ª•ÈÄöËøá `extends` ÂàõÂª∫Â≠êÁ±ªÔºåÈÄöËøáÂ≠êÁ±ªÂÆû‰æãÂåñÂá∫Êù•ÁöÑÈòüÂΩ¢ÂèØ‰ª•ÁªßÊâøËøô‰∏§‰∏™Á±ªÁöÑÊâÄÊúâÊñπÊ≥ï„ÄÇ

Â¶ÇÊûúÂ≠êÁ±ª‰∏≠ÁöÑÊñπÊ≥ï‰∏éÁà∂Á±ª‰∏≠ÁöÑÊñπÊ≥ïÂêçÈáçÂ§çÔºåÈÇ£‰πàÂ≠êÁ±ª‰∏≠ÁöÑÂêåÂêçÊñπÊ≥ï‰ºòÂÖàÁ∫ßÊõ¥È´òÔºö

```js
class Programmer extends Person {
  hello() {
    return super.hello() + ' I am a programmer.'
  }
}
const flavio = new Programmer('Flavio')
flavio.hello()
```

(‰∏äËø∞‰ª£Á†Å‰ºöÊâìÂç∞Âá∫Ôºö‚Äú*Hello, I am Flavio. I am a programmer.*‚Äù)

Classes do not have explicit class variable declarations, but you must initialize any variable in the constructor.

Âú®Â≠êÁ±ª‰∏≠Ôºå‰Ω†ÂèØ‰ª•ÈÄöËøáË∞ÉÁî®`super()`ÂºïÁî®Áà∂Á±ª„ÄÇ

#### ÈùôÊÄÅÊñπÊ≥ï

Âú®Á±ª‰∏≠ÔºåÈÄöÂ∏∏‰ºöÊääÊñπÊ≥ïÁõ¥Êé•ÊåÇËΩΩÂà∞ÂÆû‰æãÂØπË±°‰∏äÔºåÁõ¥Êé•Âú®ÂÆû‰æãÂØπË±°‰∏äÂèØ‰ª•Ë∞ÉÁî®„ÄÇ

ËÄåÂÆû‰æãÊñπÊ≥ïÂàôÊòØÁõ¥Êé•‰ΩøÁî®Á±ªÂêçÊù•Ë∞ÉÁî®ÔºåËÄå‰∏çÊòØÈÄöËøáÂØπË±°ÂÆû‰æãË∞ÉÁî®Ôºö

```js
class Person {
  static genericHello() {
    return 'Hello'
  }
}
Person.genericHello() //Hello
```

#### ÁßÅÊúâÊñπÊ≥ï

JavaScript Ê≤°ÊúâÂÜÖÁΩÆÁúüÊ≠£ÊÑè‰πâ‰∏äÁöÑÂèó‰øùÊä§ÁöÑÁßÅÊúâÊñπÊ≥ï„ÄÇ

Á§æÂå∫ÊúâËß£ÂÜ≥ÊñπÊ≥ïÔºå‰ΩÜÊàë‰∏ç‰ºöÂú®ËøôÈáåÂÅöËÆ≤Ëß£„ÄÇ

#### Getters Âíå setters

‰Ω†ÂèØ‰ª•ÈÄöËøáÂ¢ûÂä†ÊñπÊ≥ï ÂâçÁºÄ `get` ÊàñËÄÖ `set` ÂàõÂª∫‰∏Ä‰∏™ getter Âíå setter, getter Âíå setter‰ºöÂú®‰Ω†ÂéªËé∑ÂèñÁâπÂÆöÂÄºÊàñËÄÖ‰øÆÊîπÁâπÂÆöÂÄºÁöÑÊó∂ÂÄôÊâßË°å `get` ÊàñËÄÖ `set`ÂÜÖÁöÑÁõ∏ÂÖ≥ÊñπÊ≥ï„ÄÇ

```js
class Person {
  constructor(name) {
    this._name = name
  }
  set name(value) {
    this._name = value
  }
  get name() {
    return this._name
  }
}
```

Â¶ÇÊûúÊÇ®Âè™Êúâ‰∏Ä‰∏™ getterÔºåÂàôÊó†Ê≥ïËÆæÁΩÆËØ•Â±ûÊÄßÔºåÂπ∂‰∏îËÆæÁΩÆÊ≠§Â±ûÊÄßÁöÑÊìç‰ΩúÈÉΩ‰ºöË¢´ÂøΩÁï•Ôºö

```js
class Person {
  constructor(name) {
    this._name = name
  }
  get name() {
    return this._name
  }
}
```

Â¶ÇÊûúÊÇ®Âè™Êúâ‰∏Ä‰∏™ setterÔºåÂàôÊó†Ê≥ïËÆæÁΩÆËØ•Â±ûÊÄßÔºåÂπ∂‰∏îËÆæÁΩÆÊ≠§Â±ûÊÄßÁöÑÊìç‰ΩúÈÉΩ‰ºöË¢´ÂøΩÁï•Ôºö

```js
class Person {
  constructor(name) {
    this._name = name
  }
  set name(value) {
    this._name = value
  }
}
```

### ÈªòËÆ§ÂèÇÊï∞

ÂáΩÊï∞ `doSomething`  Êé•Êî∂‰∏Ä‰∏™ `param1` ÂèÇÊï∞„ÄÇ

```js
const doSomething = (param1) => {
}
```

Êàë‰ª¨ÂèØ‰ª•Áªô *param1* ËÆæÂÆöÈªòËÆ§ÂÄºÔºåÂ¶ÇÊûúÂú®Ë∞ÉÁî®ÂáΩÊï∞Êó∂Êú™‰º†ÂÖ•ÂèÇÊï∞ÔºåÈÇ£‰πàËØ•ÂèÇÊï∞Ëá™Âä®ËÆæÂÆöÊú™ÈªòËÆ§ÂÄº„ÄÇ

```js
const doSomething = (param1 = 'test') => {
}
```

ÂΩìÁÑ∂ÔºåËøô‰∏≠Êú∫Âà∂ÂêåÊ†∑ÈÄÇÁî®‰∫éÂ§ö‰∏™ÂèÇÊï∞Ôºö

```js
const doSomething = (param1 = 'test', param2 = 'test2') => {
}
```

ÂÅáÂ¶Ç‰Ω†ÁöÑÂáΩÊï∞ÊòØ‰∏Ä‰∏™ÂÖ∑ÊúâÁâπÂÆöÂ±ûÊÄßÁöÑÂØπË±°ÊîπÊÄé‰πàÂ§ÑÁêÜÔºü

ÊõæÂá†‰ΩïÊó∂ÔºåÂ¶ÇÊûúÊàë‰ª¨ÂøÖÈ°ªÈúÄË¶ÅÂèñ‰∏Ä‰∏™ÂØπË±°ÁöÑÁâπÂÆöÂ±ûÊÄßÂÄºÔºå‰∏∫‰∫ÜÂÅöÂÖºÂÆπÂ§ÑÁêÜÔºàÂØπË±°Ê†ºÂºè‰∏çÊ≠£Á°ÆÔºâÔºå‰Ω†ÂøÖÈ°ªÂú®ÂáΩÊï∞‰∏≠Ê∑ªÂä†‰∏Ä‰∫õ‰ª£Á†ÅÔºö

```js
const colorize = (options) => {
  if (!options) {
    options = {}
  }
  const color = ('color' in options) ? options.color : 'yellow'
  ...
}
```

ÈÄöËøáËß£ÊûÑÔºå‰Ω†ÂèØ‰ª•ÁªôÈòüÂΩ¢ÁöÑÁâπÂÆöÂ±ûÊÄßÊèê‰æõÈªòËÆ§ÂÄºÔºåËÄåËøôÊ†∑ÂàôÂèØ‰ª•Â§ßÂ§ßÁÆÄÂåñ‰ª£Á†Å„ÄÇ

```js
const colorize = ({ color = 'yellow' }) => {
  ...
}
```

Â¶ÇÊûúÂú®Ë∞ÉÁî® `colorize` ÂáΩÊï∞Êó∂Ê≤°Êúâ‰º†ÈÄí‰ªª‰ΩïÂØπË±°ÔºåÊàë‰ª¨ÂêåÊ†∑ÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™ÈªòËÆ§ÂØπË±°‰Ωú‰∏∫ÂèÇÊï∞‰ª•‰æõ‰ΩøÁî®Ôºö

```js
const spin = ({ color = 'yellow' } = {}) => {
  ...
}
```

### Ê®°ÊùøÂ≠óÁ¨¶‰∏≤

Ê®°ÊùøÂ≠óÁ¨¶‰∏≤‰∏çÂêå‰∫é ES5 ‰ª•ÂâçÁöÑÁâàÊú¨Ôºå‰Ω†ÂèØ‰ª•Áî®Êñ∞È¢ñÁöÑÊñπÂºè‰ΩøÁî®Â≠óÁ¨¶‰∏≤„ÄÇ

Ëøô‰∏™ËØ≠Ê≥ïÁúãËµ∑Êù•ÈùûÂ∏∏ÁÆÄ‰æøÔºåÂè™ÈúÄË¶Å‰ΩøÁî®‰∏Ä‰∏™ÂèçÂºïÂè∑ÊõøÊç¢ÊéâÂçïÂºïÂè∑ÊàñÂèåÂºïÂè∑Ôºö

```js
const a_string = `something`
```

Ëøô‰∏™Áî®Ê≥ïÊòØÁ¨¨‰∏ÄÊó†‰∫åÁöÑÔºåÂõ†‰∏∫ÂÆÉÊèê‰æõ‰∫ÜËÆ∏Â§öÊôÆÈÄöÂ≠óÁ¨¶‰∏≤ÊâÄÊ≤°ÊúâÁöÑÂäüËÉΩÔºåÂ¶Ç‰∏ãÔºö

- ÂÆÉ‰∏∫ÂÆö‰πâÂ§öË°åÂ≠óÁ¨¶‰∏≤Êèê‰æõ‰∫Ü‰∏Ä‰∏™ÂæàÂ•ΩÁöÑËØ≠Ê≥ï
- ÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁßçÂú®Â≠óÁ¨¶‰∏≤‰∏≠ÊèíÂÖ•ÂèòÈáèÂíåË°®ËææÂºèÁöÑÁÆÄÂçïÊñπÊ≥ï
- ÂÆÉÂÖÅËÆ∏ÊÇ®ÂàõÂª∫Â∏¶ÊúâÊ®°ÊùøÊ†áÁ≠æÁöÑDSL ( DSLÊÑèÂë≥ÁùÄÁâπÂÆö‰∫éÂüüÁöÑËØ≠Ë®ÄÔºå‰æãÂ¶ÇÔºåÂÆÉÂú®‚ÄúÁî±Ê†∑ÂºèÂåñÁªÑ‰ª∂ÂèçÂ∫î‚Äù‰∏≠Áî®‰∫éÂÆö‰πâÁªÑ‰ª∂ÁöÑCSS )

‰∏ãÈù¢ËÆ©Êàë‰ª¨Ê∑±ÂÖ•ÊØè‰∏™ÂäüËÉΩÁöÑÁªÜËäÇ„ÄÇ

#### Â§öË°åÂ≠óÁ¨¶‰∏≤

Âú® ES6 Ê†áÂáÜ‰πãÂâçÔºåÂàõÂª∫Ë∑®Ë∂ä‰∏§Ë°åÁöÑÂ≠óÁ¨¶‰∏≤Âè™ËÉΩÂú®‰∏ÄË°åÁöÑÁªìÂ∞æ‰ΩøÁî® '\' Â≠óÁ¨¶Ôºö

```js
const string =
  'first part \
second part'
```

ËøôÊ†∑‰ΩøÂæó‰Ω†ÂàõÂª∫ÁöÑÂ≠óÁ¨¶‰∏≤ËôΩÁÑ∂Ë∑®Ë∂ä‰∫Ü‰∏§Ê±âÔºå‰ΩÜÊòØÊ∏≤ÊüìÊó∂‰ªçÁÑ∂Ë°®Áé∞Êàê‰∏ÄË°åÔºö

```js
first part second part
```

ÈúÄË¶ÅÊ∏≤Êüì‰∏∫Â§öË°åÁöÑËØùÔºåÈúÄË¶ÅÂú®‰∏ÄË°åÁªìÂ∞æÊ∑ªÂä† '\n'ÔºåÊØîÂ¶ÇËøôÊ†∑Ôºö

```js
const string =
  'first line\n \
second line'
```

ÊàñËÄÖ

```js
const string = 'first line\n' + 'second line'
```

Ê®°ÊùøÂ≠óÁ¨¶‰∏≤‰ΩøÂæóÂÆö‰πâÂ§öË°åÂ≠óÁ¨¶‰∏≤ÂèòÂæóÊõ¥Âä†ÁÆÄ‰æø„ÄÇ

‰∏Ä‰∏™Ê®°ÊùøÂ≠óÁ¨¶‰∏≤Áî±‰∏Ä‰∏™ÂèçÂºïÂè∑ÂºÄÂßãÔºå‰Ω†Âè™ÈúÄË¶ÅÊåâ‰∏ãÂõûËΩ¶ÈîÆÊù•ÂàõÂª∫Êñ∞ÁöÑ‰∏ÄË°åÔºå‰∏çÈúÄË¶ÅÊèíÂÖ•ÁâπÊÆäÁ¨¶Âè∑ÔºåÊúÄÁªàÁöÑÊ∏≤ÊüìÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö

```js
const string = `Hey
this
string
is awesome!`
```

ÈúÄË¶ÅÁâπÂà´ÁïôÊÑèÁ©∫Ê†ºÂú®ËøôÈáåÊòØÊúâÁâπÊÆäÊÑè‰πâÁöÑÔºåÂ¶ÇÊûúËøôÊ†∑ÂÅöÁöÑËØùÔºö

```js
const string = `First
                Second`
```

ÈÇ£‰πàÂÆÉ‰ºöÂàõÂª∫Âá∫ÂÉè‰∏ãÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤Ôºö

```js
First
                Second
```

Êúâ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊñπÊ≥ïÂèØ‰ª•‰øÆÂ§çËøô‰∏™ÈóÆÈ¢òÔºåÂè™ÈúÄË¶ÅÂ∞ÜÁ¨¨‰∏ÄË°åÁΩÆ‰∏∫Á©∫ÔºåÁÑ∂ÂêéÊ∑ªÂä†‰∫ÜÂè≥ËæπÁöÑÁøªËØëÂ•ΩÂêéË∞ÉÁî®‰∏Ä‰∏™ trim() ÊñπÊ≥ïÔºåÂ∞±ÂèØ‰ª•Ê∂àÈô§Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶ÂâçÁöÑÊâÄÊúâÁ©∫Ê†ºÔºö
```js
const string = `
First
Second`.trim()
```

#### ÊèíÂÄº

Ê®°ÊùøÂ≠óÁ¨¶‰∏≤Êèê‰æõ‰∫ÜÊèíÂÖ•ÂèòÈáèÂíåË°®ËææÂºèÁöÑ‰æøÊç∑ÊñπÊ≥ï

‰Ω†Âè™ÈúÄË¶Å‰ΩøÁî® ${...} ËØ≠Ê≥ï

```js
const var = 'test'
const string = `something ${var}` //something test
```

Âú® ${} ÈáåÈù¢‰Ω†ÂèØ‰ª•Âä†ÂÖ•‰ªª‰Ωï‰∏úË•øÔºåÁîöËá≥ÊòØË°®ËææÂºèÔºö

```js
const string = `something ${1 + 2 + 3}`
const string2 = `something ${foo() ? 'x' : 'y'}`
```

#### Template tags

Ê†áËÆ∞Ê®°ÊùøÂèØËÉΩÊòØ‰∏Ä‰∏™Âê¨Ëµ∑Êù•‰∏çÂ§™ÊúâÁî®ÁöÑÂäüËÉΩÔºå‰ΩÜÂÆÉÂÆûÈôÖ‰∏äË¢´ËÆ∏Â§öÊµÅË°åÁöÑÂ∫ì‰ΩøÁî®ÔºåÂ¶Ç Styled Components „ÄÅApollo „ÄÅGraphQLÂÆ¢Êà∑Á´Ø/ÊúçÂä°Âô®Â∫ìÔºåÂõ†Ê≠§‰∫ÜËß£ÂÆÉÁöÑÂ∑•‰ΩúÂéüÁêÜËá≥ÂÖ≥ÈáçË¶Å„ÄÇ

Âú® Styled Components Ê®°ÊùøÊ†áÁ≠æ‰∏≠Áî®‰∫éÂÆö‰πâCSSÂ≠óÁ¨¶‰∏≤

```js
const Button = styled.button`
  font-size: 1.5em;
  background-color: black;
  color: white;
`
```

Âú® Apollo ‰∏≠ÔºåÊ®°ÊùøÊ†áÁ≠æÁî®‰∫éÂÆö‰πâ GraphQL Êü•ËØ¢Ê®°ÂºèÔºö

```js
const query = gql`
  query {
    ...
  }
`
```

‰∏äÈù¢‰∏§‰∏™‰æãÂ≠ê‰∏≠ÁöÑ`styled.button`Âíå`gql`Ê®°ÊùøÊ†áÁ≠æÂÖ∂ÂÆûÈÉΩÊòØ**ÂáΩÊï∞**:

```
function gql(literals, ...expressions) {}
```

Ëøô‰∏™ÂáΩÊï∞ËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂèØ‰ª•ÊòØ*‰ªªÊÑè*Á±ªÂûãÁöÑËÆ°ÁÆóÁªìÊûú„ÄÇ

`Â≠óÈù¢Èáè`(literals)ÊòØ‰∏Ä‰∏™ÂåÖÂê´‰∫ÜË°®ËææÂºèÊèíÂÄºÁöÑÊ®°ÊùøÂ≠óÈù¢ÈáèÁöÑÂ∫èÂàó„ÄÇ
`Ë°®ËææÂºè`(expressions)ÂåÖÂê´‰∫ÜÊâÄÊúâÁöÑÊèíÂÄº„ÄÇ

‰∏æ‰∏™‰æãÂ≠êÔºö

```
const string = `something ${1 + 2 + 3}`
```

Ëøô‰∏™‰æãÂ≠êÈáåÈù¢ÁöÑ`Â≠óÈù¢Èáè`ÊòØ‰∏Ä‰∏™Áî±2‰∏™ÈÉ®ÂàÜÁªÑÊàêÁöÑÂ∫èÂàó„ÄÇÁ¨¨1ÈÉ®ÂàÜÂ∞±ÊòØ`something`Ôºå‰πüÂ∞±ÊòØÁ¨¨‰∏Ä‰∏™ÊèíÂÄº‰ΩçÁΩÆ(${})‰πãÂâçÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÁ¨¨2ÈÉ®ÂàÜÂ∞±ÊòØ‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤Ôºå‰ªéÁ¨¨1‰∏™ÊèíÂÄºÁªìÊùüÁöÑ‰ΩçÁΩÆÁõ¥Âà∞Â≠óÁ¨¶‰∏≤ÁöÑÁªìÊùü„ÄÇ

Ëøô‰∏™‰æãÂ≠êÈáåÈù¢ÁöÑ`Ë°®ËææÂºè`Â∞±ÊòØÂè™ÂåÖÂê´1‰∏™ÈÉ®ÂàÜÁöÑÂ∫èÂàóÔºå‰πüÂ∞±ÊòØ`6`„ÄÇ

‰∏æ‰∏Ä‰∏™Êõ¥Â§çÊùÇÁöÑ‰æãÂ≠êÔºö

```
const string = `something
another ${'x'}
new line ${1 + 2 + 3}
test`
```

Ëøô‰∏™‰æãÂ≠êÈáåÈù¢ÁöÑ`Â≠óÈù¢Èáè`ÁöÑÂ∫èÂàóÈáåÈù¢ÔºåÁ¨¨1‰∏™ÈÉ®ÂàÜÊòØÔºö

```
;`something
another `
```

Á¨¨2ÈÉ®ÂàÜÊòØÔºö

```
;`
new line `
```

Á¨¨3ÈÉ®ÂàÜÊòØÔºö

```
;`
test`
```

Ëøô‰∏™‰æãÂ≠êÈáåÈù¢ÁöÑ`Ë°®ËææÂºè`ÂåÖÂê´‰∫Ü2‰∏™ÈÉ®ÂàÜÔºö`x`Âíå`6`„ÄÇ

ÊãøÂà∞‰∫ÜËøô‰∫õÂÄºÁöÑÂáΩÊï∞Â∞±ÂèØ‰ª•ÂØπÂÖ∂ÂÅö‰ªªÊÑèÂ§ÑÁêÜÔºåËøôÂ∞±ÊòØËøô‰∏™ÁâπÊÄßÁöÑÂ®ÅÂäõÊâÄÂú®„ÄÇ

ÊØîÂ¶ÇÊúÄÁÆÄÂçïÁöÑÂ§ÑÁêÜÂ∞±ÊòØÂ≠óÁ¨¶‰∏≤ÊèíÂÄºÔºåÊää`Â≠óÈù¢Èáè`Âíå`Ë°®ËææÂºè`ÊãºÊé•Ëµ∑Êù•Ôºö

```
const interpolated = interpolate`I paid ${10}‚Ç¨`
```

`ÊèíÂÄº`ÁöÑËøáÁ®ãÂ∞±ÊòØÔºö

```
function interpolate(literals, ...expressions) {
  let string = ``
  for (const [i, val] of expressions) {
    string += literals[i] + val
  }
  string += literals[literals.length - 1]
  return string
}
```

### Ëß£ÊûÑËµãÂÄº

ÁªôÂÆö‰∏Ä‰∏™objectÔºå‰Ω†ÂèØ‰ª•ÊäΩÂèñÂÖ∂‰∏≠ÁöÑ‰∏Ä‰∫õÂÄºÂπ∂‰∏îËµãÂÄºÁªôÂëΩÂêçÁöÑÂèòÈáèÔºö

```
const person = {
  firstName: 'Tom',
  lastName: 'Cruise',
  actor: true,
  age: 54, //made up
}
const {firstName: name, age} = person
```

`name`Âíå`age`Â∞±ÂåÖÂê´‰∫ÜÂØπÂ∫îÁöÑÂÄº„ÄÇ

Ëøô‰∏™ËØ≠Ê≥ïÂêåÊ†∑ÂèØ‰ª•Áî®Âà∞Êï∞ÁªÑÂΩì‰∏≠Ôºö

```
const a = [1,2,3,4,5]
const [first, second] = a
```

‰∏ãÈù¢Ëøô‰∏™ËØ≠Âè•ÂàõÂª∫‰∫Ü3‰∏™Êñ∞ÁöÑÂèòÈáèÔºåÂàÜÂà´ÂèñÁöÑÊòØÊï∞ÁªÑ`a`ÁöÑÁ¨¨0„ÄÅ1„ÄÅ4‰∏ãÊ†áÂØπÂ∫îÁöÑÂÄºÔºö

```
const [first, second, , , fifth] = a
```

### Êõ¥Âº∫Â§ßÁöÑÂØπË±°Â≠óÈù¢Èáè

ES2015Ëµã‰∫à‰∫ÜÂØπË±°Â≠óÈù¢ÈáèÊõ¥Â§ßÁöÑÂ®ÅÂäõ„ÄÇ

#### ÁÆÄÂåñ‰∫ÜÂåÖÂê´ÂèòÈáèÁöÑËØ≠Ê≥ï

ÂéüÊù•ÁöÑÂÜôÊ≥ïÔºö

```
const something = 'y'
const x = {
  something: something
}
```

Êñ∞ÁöÑÂÜôÊ≥ïÔºö

```
const something = 'y'
const x = {
  something
}
```

#### ÂéüÂûã

ÂéüÂûãÂèØ‰ª•ËøôÊ†∑ÊåáÂÆöÔºö

```
const anObject = { y: 'y' }
const x = {
  __proto__: anObject
}
```

#### super()

```
const anObject = { y: 'y', test: () => 'zoo' }
const x = {
  __proto__: anObject,
  test() {
    return super.test() + 'x'
  }
}
x.test() //zoox
```

#### Âä®ÊÄÅÂ±ûÊÄß

```
const x = {
  ['a' + '_' + 'b']: 'z'
}
x.a_b //z
```

### For-ofÂæ™ÁéØ

2009Âπ¥ÁöÑES5ÂºïÂÖ•‰∫Ü`forEach()`Âæ™ÁéØ„ÄÇËôΩÁÑ∂ÂæàÂ•ΩÁî®Ôºå‰ΩÜÊòØÂÆÉË∑ü`for`Âæ™ÁéØ‰∏ÄÊ†∑ÔºåÊ≤°Ê≥ïbreak„ÄÇ

ES2015ÂºïÂÖ•‰∫Ü`**for-of**` **Âæ™ÁéØ**, Â∞±ÊòØÂú®`forEach`ÁöÑÂü∫Á°Ä‰∏äÂä†‰∏ä‰∫ÜbreakÁöÑÂäüËÉΩÔºö

```
//iterate over the value
for (const v of ['a', 'b', 'c']) {
  console.log(v);
}
//get the index as well, using `entries()`
for (const [i, v] of ['a', 'b', 'c'].entries()) {
  console.log(index) //index
  console.log(value) //value
}
```

ÁïôÊÑè‰∏Ä‰∏ã`const`ÁöÑ‰ΩøÁî®„ÄÇËøô‰∏™Âæ™ÁéØÂú®ÊØèÊ¨°Ëø≠‰ª£‰∏≠ÈÉΩ‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑ‰ΩúÁî®ÂüüÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®`const`Êù•‰ª£Êõø`let`„ÄÇ

ÂÆÉË∑ü`for...in`ÁöÑÂå∫Âà´Âú®‰∫éÔºö

- `for...of` **ÈÅçÂéÜÂ±ûÊÄßÂÄº**
- `for...in` **ÈÅçÂéÜÂ±ûÊÄßÂêç**

### Promises

promiseÁöÑ‰∏ÄËà¨ÂÆö‰πâÔºö **ÂÆÉÊòØ‰∏Ä‰∏™‰ª£ÁêÜÔºåÈÄöËøáÂÆÉÂèØ‰ª•ÊúÄÁªàÂæóÂà∞‰∏Ä‰∏™ÂÄº**.

PromiseÊòØÂ§ÑÁêÜÂºÇÊ≠•‰ª£Á†ÅÁöÑ‰∏ÄÁßçÊñπÂºèÔºåÂèØ‰ª•Â∞ëÂÜôÂæàÂ§öÂõûË∞É„ÄÇ

**ÂºÇÊ≠•ÂáΩÊï∞**ÊòØÂª∫Á´ãÂú®promise API‰∏äÈù¢ÁöÑÔºåÊâÄ‰ª•ÁêÜËß£PromiseÊòØ‰∏Ä‰∏™Âü∫Êú¨ÁöÑË¶ÅÊ±Ç„ÄÇ

#### promiseÁöÑÂéüÁêÜÁÆÄËø∞

‰∏Ä‰∏™promiseË¢´Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåÈ¶ñÂÖàÂÆÉÊòØÂ§Ñ‰∫é**pending**Áä∂ÊÄÅ„ÄÇÂú®promiseÂ§ÑÁêÜÁöÑËøáÁ®ã‰∏≠ÔºåË∞ÉÁî®ÁöÑÂáΩÊï∞ÔºàcallerÔºâÂèØ‰ª•ÁªßÁª≠ÊâßË°åÔºåÁõ¥Âà∞promiseÁªôÂá∫ÂèçÈ¶à„ÄÇ

Ê≠§Êó∂ÔºåË∞ÉÁî®ÁöÑÂáΩÊï∞Á≠âÂæÖÁöÑpromiseÁªìÊûúË¶Å‰πàÊòØ**resolved**Áä∂ÊÄÅÔºåË¶Å‰πàÊòØ**rejected**Áä∂ÊÄÅ„ÄÇ‰ΩÜÊòØÁî±‰∫é[JavaScript](https://flaviocopes.com/javascript/)ÊòØÂºÇÊ≠•ÁöÑÔºåÊâÄ‰ª•*promiseÂ§ÑÁêÜÁöÑËøáÁ®ã‰∏≠ÔºåÂáΩÊï∞‰ºöÁªßÁª≠ÊâßË°å*„ÄÇ

#### ‰∏∫‰ªÄ‰πàJS API‰ΩøÁî®promises?

Èô§‰∫Ü‰Ω†ÁöÑ‰ª£Á†ÅÂíåÁ¨¨‰∏âÊñπÂ∫ìÁöÑ‰ª£Á†Å‰πãÂ§ñÔºåpromiseÂú®Áî®Âú®Áé∞‰ª£ÁöÑWeb API‰∏≠ÔºåÊØîÂ¶ÇÔºö

- ÁîµÊ±†API
- [Fetch API](https://flaviocopes.com/fetch-api/)
- [Service Workers](https://flaviocopes.com/service-workers/)

Âú®Áé∞‰ª£ÁöÑJavaScript‰∏≠Ôºå‰∏ç‰ΩøÁî®promiseÊòØÂ§™ÂèØËÉΩÁöÑÔºåÊâÄ‰ª•Êàë‰ª¨Êù•Ê∑±ÂÖ•Á†îÁ©∂‰∏ãpromiseÂêß„ÄÇ

#### ÂàõÂª∫‰∏Ä‰∏™promise

Promise APIÊö¥Èú≤‰∫Ü‰∏Ä‰∏™PromiseÊûÑÈÄ†ÂáΩÊï∞ÔºåÂèØ‰ª•ÈÄöËøá`new Promise()`Êù•ÂàùÂßãÂåñÔºö

```
let done = true
const isItDoneYet = new Promise((resolve, reject) => {
  if (done) {
    const workDone = 'Here is the thing I built'
    resolve(workDone)
  } else {
    const why = 'Still working on something else'
    reject(why)
  }
})
```

promise‰ºöÊ£ÄÊü•`done`Ëøô‰∏™ÂÖ®Â±ÄÂèòÈáèÔºåÂ¶ÇÊûú‰∏∫trueÔºåÂ∞±ËøîÂõû‰∏Ä‰∏™resolved promiseÔºåÂê¶ÂàôÂ∞±ËøîÂõû‰∏Ä‰∏™rejected promise„ÄÇ

ÈÄöËøá`resolve`Âíå`reject`ÔºåÊàë‰ª¨ÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∏™ËøîÂõûÂÄºÔºåËøîÂõûÂÄºÂèØ‰ª•ÊòØÂ≠óÁ¨¶‰∏≤‰πüÂèØ‰ª•ÊòØÂØπË±°„ÄÇ

#### ‰ΩøÁî®‰∏Ä‰∏™promise

‰∏äÈù¢ËÆ≤‰∫ÜÊÄé‰πàÂàõÂª∫‰∏Ä‰∏™promiseÔºå‰∏ãÈù¢Â∞±ËÆ≤ÊÄé‰πà‰ΩøÁî®ÔºàconsumeÔºâËøô‰∏™promise„ÄÇ

```
const isItDoneYet = new Promise()
//...
const checkIfItsDone = () => {
  isItDoneYet
    .then(ok => {
      console.log(ok)
    })
    .catch(err => {
      console.error(err)
    })
}
```

ËøêË°å`checkIfItsDone()`ÊñπÊ≥ïÊó∂Ôºå‰ºöÊâßË°å`isItDoneYet()`Ëøô‰∏™promiseÔºåÂπ∂‰∏îÁ≠âÂæÖÂÆÉresolveÁöÑÊó∂ÂÄô‰ΩøÁî®`then`ÂõûË∞ÉÔºåÂ¶ÇÊûúÊúâÈîôËØØÔºåÂ∞±Áî®`catch`ÂõûË∞ÉÊù•Â§ÑÁêÜ„ÄÇ

#### ÈìæÂºèpromise

‰∏Ä‰∏™promiseÂèØ‰ª•ËøîÂõûÂè¶‰∏Ä‰∏™promiseÔºå‰ªéËÄåÂàõÂª∫promiseÈìæÊé•ÔºàchainÔºâ„ÄÇ

‰∏Ä‰∏™ÂæàÂ•ΩÁöÑ‰æãÂ≠êÂ∞±ÊòØ[Fetch API](https://flaviocopes.com/fetch-api)ÔºåÂÆÉÊòØÂü∫‰∫éXMLHttpRequest APIÁöÑ‰∏Ä‰∏™‰∏äÂ±ÇAPIÔºåÊàë‰ª¨ÂèØ‰ª•Áî®ÂÆÉÊù•Ëé∑ÂèñËµÑÊ∫êÔºåÂπ∂‰∏îÂú®Ëé∑ÂèñÂà∞ËµÑÊ∫êÁöÑÊó∂ÂÄôÈìæÂºèÊâßË°å‰∏ÄÁ≥ªÂàópromise„ÄÇ

Fetch APIÊòØ‰∏Ä‰∏™Âü∫‰∫épromiseÁöÑÊú∫Âà∂ÔºåË∞ÉÁî®`fetch()`Áõ∏ÂΩì‰∫é‰ΩøÁî®`new Promise()`Êù•Â£∞ÊòéÊàë‰ª¨Ëá™Â∑±ÁöÑpromise„ÄÇ

#### ÈìæÂºèpromiseÁöÑ‰æãÂ≠ê

```
const status = response => {
  if (response.status >= 200 && response.status < 300) {
    return Promise.resolve(response)
  }
  return Promise.reject(new Error(response.statusText))
}
const json = response => response.json()
fetch('/todos.json')
  .then(status)
  .then(json)
  .then(data => {
    console.log('Request succeeded with JSON response', data)
  })
  .catch(error => {
    console.log('Request failed', error)
  })
```

Âú®Ëøô‰∏™‰æãÂ≠êÂΩì‰∏≠ÔºåÊàë‰ª¨Ë∞ÉÁî®`fetch()`Ôºå‰ªéÊ†πÁõÆÂΩïÁöÑ`todos.json`Êñá‰ª∂‰∏≠Ëé∑Âèñ‰∏ÄÁ≥ªÂàóÁöÑTODOÈ°πÁõÆÔºåÂπ∂‰∏îÂàõÂª∫‰∏Ä‰∏™ÈìæÂºèpromise„ÄÇ

ËøêË°å`fetch()`ÊñπÊ≥ï‰ºöËøîÂõû‰∏Ä‰∏™[response](https://fetch.spec.whatwg.org/#concept-response)ÔºåÂÆÉÂåÖÂê´ÂæàÂ§öÂ±ûÊÄßÔºåÊàë‰ª¨‰ªé‰∏≠ÂºïÁî®Â¶Ç‰∏ãÂ±ûÊÄßÔºö

- `status`, ‰∏Ä‰∏™Êï∞ÂÄºÔºåË°®Á§∫HTTPÁä∂ÊÄÅÁ†Å
- `statusText`, ‰∏Ä‰∏™Áä∂ÊÄÅÊ∂àÊÅØÔºåÂΩìËØ∑Ê±ÇÊàêÂäüÁöÑÊó∂ÂÄôËøîÂõû`OK`

`response`ËøòÊúâ‰∏Ä‰∏™`json()`ÊñπÊ≥ïÔºåÂÆÉËøîÂõû‰∏Ä‰∏™promiseÔºåËøîÂõûÂÜÖÂÆπËΩ¨Êç¢ÊàêJSONÂêéÁöÑÁªìÊûú„ÄÇ

ÊâÄ‰ª•Ëøô‰∫õpromiseÁöÑË∞ÉÁî®ËøáÁ®ãÂ∞±ÊòØÔºöÁ¨¨‰∏Ä‰∏™promiseÊâßË°å‰∏Ä‰∏™Êàë‰ª¨ÂÆö‰πâÁöÑ`status()`ÊñπÊ≥ïÔºåÊ£ÄÊü•response statusÔºåÂà§Êñ≠ÊòØÂê¶‰∏Ä‰∏™ÊàêÂäüÁöÑÂìçÂ∫î(statusÂú®200Âíå299‰πãÈó¥)ÔºåÂ¶ÇÊûú‰∏çÊòØÊàêÂäüÁöÑÂìçÂ∫îÔºåÂ∞±rejectËøô‰∏™promise„ÄÇ

Ëøô‰∏™rejectÊìç‰Ωú‰ºöÂØºËá¥Êï¥‰∏™ÈìæÂºèpromiseË∑≥ËøáÂêéÈù¢ÁöÑÊâÄÊúâpromiseÁõ¥Êé•Âà∞`catch()`ËØ≠Âè•ÔºåÊâìÂç∞`Request failed`ÂíåÈîôËØØÊ∂àÊÅØ„ÄÇ

Â¶ÇÊûúËøô‰∏™promiseÊàêÂäü‰∫ÜÔºåÂÆÉ‰ºöË∞ÉÁî®Êàë‰ª¨ÂÆö‰πâÁöÑjson()ÂáΩÊï∞„ÄÇÂõ†‰∏∫ÂâçÈù¢ÁöÑpromiseÊàêÂäü‰πãÂêéËøîÂõûÁöÑ`response`ÂØπË±°ÔºåÊàë‰ª¨ÂèØ‰ª•ÊãøÂà∞Âπ∂‰Ωú‰∏∫Á¨¨2‰∏™promiseÁöÑÂèÇÊï∞‰º†ÂÖ•„ÄÇ

Âú®Ëøô‰∏™‰æãÂ≠êÈáåÈù¢ÔºåÊàë‰ª¨ËøîÂõû‰∫ÜJSONÂ∫èÂàóÂåñÁöÑÊï∞ÊçÆÔºåÊâÄ‰ª•Á¨¨3‰∏™promiseÁõ¥Êé•Êé•Êî∂Ëøô‰∏™JSONÔºö

```
.then((data) => {
  console.log('Request succeeded with JSON response', data)
})
```

ÁÑ∂ÂêéÊàë‰ª¨ÊääÂÆÉÊâìÂç∞Âà∞console„ÄÇ

#### Â§ÑÁêÜÈîôËØØ

Âú®‰∏ä‰∏ÄËäÇÁöÑÁöÑ‰æãÂ≠êÈáåÈù¢ÔºåÊàë‰ª¨Êúâ‰∏Ä‰∏™`catch`Êé•Âú®ÈìæÂºèpromiseÂêéÈù¢„ÄÇ

ÂΩìpromiseÈìæ‰∏≠ÁöÑ‰ªªÊÑè‰∏Ä‰∏™Âá∫ÈîôÊàñËÄÖrejectÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöÁõ¥Êé•Ë∑≥Âà∞promiseÈìæÂêéÈù¢ÊúÄËøëÁöÑ`catch()`ËØ≠Âè•„ÄÇ

```
new Promise((resolve, reject) => {
  throw new Error('Error')
}).catch(err => {
  console.error(err)
})
// or
new Promise((resolve, reject) => {
  reject('Error')
}).catch(err => {
  console.error(err)
})
```

#### Á∫ßËÅîÈîôËØØ

Â¶ÇÊûúÂú®`catch()`ÈáåÈù¢ÊäõÂá∫‰∏Ä‰∏™ÈîôËØØÔºå‰Ω†ÂèØ‰ª•Âú®ÂêéÈù¢Êé•‰∏äÁ¨¨‰∫å‰∏™`catch()`Êù•Â§ÑÁêÜËøô‰∏™ÈîôËØØÔºå‰ª•Ê≠§Á±ªÊé®„ÄÇ

```
new Promise((resolve, reject) => {
  throw new Error('Error')
})
  .catch(err => {
    throw new Error('Error')
  })
  .catch(err => {
    console.error(err)
  })
```

#### ÁªÑÁªáÂ§ö‰∏™promise

#### `Promise.all()`

Â¶ÇÊûú‰Ω†Ë¶ÅÂêåÊó∂ÂÆåÊàê‰∏çÂêåÁöÑpromise,ÂèØ‰ª•Áî®`Promise.all()`Êù•Â£∞Êòé‰∏ÄÁ≥ªÂàóÁöÑpromiseÔºåÁÑ∂ÂêéÂΩìÂÆÉ‰ª¨ÂÖ®ÈÉ®resolveÁöÑÊó∂ÂÄôÂÜçÊâßË°å‰∏Ä‰∫õÊìç‰Ωú„ÄÇ

‰æãÂ≠êÔºö

```
const f1 = fetch('/something.json')
const f2 = fetch('/something2.json')
Promise.all([f1, f2])
  .then(res => {
    console.log('Array of results', res)
  })
  .catch(err => {
    console.error(err)
  })
```

ÁªìÂêàES2015ÁöÑËß£ÊûÑËµãÂÄºËØ≠Ê≥ïÔºå‰Ω†ÂèØ‰ª•ËøôÊ†∑ÂÜôÔºö

```
Promise.all([f1, f2]).then(([res1, res2]) => {
  console.log('Results', res1, res2)
})
```

ÂΩìÁÑ∂Ëøô‰∏çÈôê‰∫é‰ΩøÁî®`fetch`Ôºå **ËøôÈÄÇÁî®‰∫é‰ªª‰Ωïpromise**.

#### `Promise.race()`

`Promise.race()`ËøêË°åÊâÄÊúâ‰º†ÈÄíËøõÂéªÁöÑpromiseÔºå‰ΩÜÊòØÂè™Ë¶ÅÊúâÂÖ∂‰∏≠‰∏Ä‰∏™resolve‰∫ÜÔºåÂ∞±‰ºöËøêË°åÂêéÈù¢ÁöÑÂõûË∞ÉÔºåÂπ∂‰∏îÂè™ÊâßË°å‰∏ÄÊ¨°ÂõûË∞ÉÔºåÂõûË∞ÉÁöÑÂèÇÊï∞Â∞±ÊòØÁ¨¨‰∏Ä‰∏™resolveÁöÑpromiseËøîÂõûÁöÑÁªìÊûú„ÄÇ

‰æãÂ≠êÔºö

```
const promiseOne = new Promise((resolve, reject) => {
  setTimeout(resolve, 500, 'one')
})
const promiseTwo = new Promise((resolve, reject) => {
  setTimeout(resolve, 100, 'two')
})
Promise.race([promiseOne, promiseTwo]).then(result => {
  console.log(result) // 'two'
})
```

### Ê®°Âùó

ES ModuleÊòØ‰∏Ä‰∏™ÂÖ≥‰∫éÂ§öÊ®°ÂùóÁöÑECMAScriptÊ†áÂáÜ„ÄÇ

Node.jsÁî®‰∫ÜCommonJSÊ†áÂáÜÂ•ΩÂá†Âπ¥‰∫ÜÔºå‰ΩÜÊòØÊµèËßàÂô®‰ªéÊù•Ê≤°Êúâ‰∏Ä‰∏™Ê®°ÂùóÁ≥ªÁªüÔºå, the browser never had a module system, as every major decision such as a module system must be first standardized by ECMAScript and then implemented by the browser.

This standardization process completed with ES2015 and browsers started implementing this standard trying to keep everything well aligned, working all in the same way, and now ES Modules are supported in Chrome, Safari, Edge and Firefox (since version 60).

Modules are very cool, because they let you encapsulate all sorts of functionality, and expose this functionality to other JavaScript files, as libraries.

#### The ES Modules Syntax

The syntax to import a module is:

```
import package from 'module-name'
```

while CommonJS uses

```
const package = require('module-name')
```

A module is a JavaScript file that **exports** one or more values (objects, functions or variables), using the `export` keyword. For example, this module exports a function that returns a string uppercase:

> *uppercase.js*

```
export default str => str.toUpperCase()
```

In this example, the module defines a single, **default export**, so it can be an anonymous function. Otherwise it would need a name to distinguish it from other exports.

Now, **any other JavaScript module** can import the functionality offered by uppercase.js by importing it.

An HTML page can add a module by using a `<script>` tag with the special `type="module"` attribute:

```
<script type="module" src="index.js"></script>
```

> *Note: this module import behaves like a* `*defer*` *script load. See* [*efficiently load JavaScript with defer and async*](https://flaviocopes.com/javascript-async-defer/)

It‚Äôs important to note that any script loaded with `type="module"` is loaded in strict mode.

In this example, the `uppercase.js` module defines a **default export**, so when we import it, we can assign it a name we prefer:

```
import toUpperCase from './uppercase.js'
```

and we can use it:

```
toUpperCase('test') //'TEST'
```

You can also use an absolute path for the module import, to reference modules defined on another domain:

```
import toUpperCase from 'https://flavio-es-modules-example.glitch.me/uppercase.js'
```

This is also valid import syntax:

```
import { toUpperCase } from '/uppercase.js'
import { toUpperCase } from '../uppercase.js'
```

This is not:

```
import { toUpperCase } from 'uppercase.js'
import { toUpperCase } from 'utils/uppercase.js'
```

It‚Äôs either absolute, or has a `./` or `/` before the name.

#### Other import/export options

We saw this example above:

```
export default str => str.toUpperCase()
```

This creates one default export. In a file however you can export more than one thing, by using this syntax:

```
const a = 1
const b = 2
const c = 3
export { a, b, c }
```

Another module can import all those exports using

```
import * from 'module'
```

You can import just a few of those exports, using the destructuring assignment:

```
import { a } from 'module'
import { a, b } from 'module'
```

You can rename any import, for convenience, using `as`:

```
import { a, b as two } from 'module'
```

You can import the default export, and any non-default export by name, like in this common React import:

```
import React, { Component } from 'react'
```

You can see an ES Modules example here: <https://glitch.com/edit/#!/flavio-es-modules-example?path=index.html>

#### CORS

Modules are fetched using CORS. This means that if you reference scripts from other domains, they must have a valid CORS header that allows cross-site loading (like `Access-Control-Allow-Origin: *`)

#### What about browsers that do not support modules?

Use a combination of `type="module"` and `nomodule`:

```
<script type="module" src="module.js"></script>
<script nomodule src="fallback.js"></script>
```

#### Wrapping up modules

ES Modules are one of the biggest features introduced in modern browsers. They are part of ES6 but the road to implement them has been long.

We can now use them! But we must also remember that having more than a few modules is going to have a performance hit on our pages, as it‚Äôs one more step that the browser must perform at runtime.

Webpack is probably going to still be a huge player even if ES Modules land in the browser, but having such a feature directly built in the language is huge for a unification of how modules work client-side and on Node.js as well.

### New String methods

Any string value got some new instance methods:

- `repeat()`
- `codePointAt()`

#### repeat()

Repeats the strings for the specified number of times:

```
'Ho'.repeat(3) //'HoHoHo'
```

Returns an empty string if there is no parameter, or the parameter is `0`. If the parameter is negative you'll get a RangeError.

#### codePointAt()

This method can be used to handle Unicode characters that cannot be represented by a single 16-bit Unicode unit, but need 2 instead.

Using `charCodeAt()` you need to retrieve the first, and the second, and combine them. Using `codePointAt()` you get the whole character in one call.

For example, this Chinese character ‚Äú†Æ∑‚Äù is composed by 2 UTF-16 (Unicode) parts:

```
"†Æ∑".charCodeAt(0).toString(16) //d842
"†Æ∑".charCodeAt(1).toString(16) //dfb7
```

If you create a new character by combining those unicode characters:

```
"\ud842\udfb7" //"†Æ∑"
```

You can get the same result sign `codePointAt()`:

```
"†Æ∑".codePointAt(0) //20bb7
```

If you create a new character by combining those unicode characters:

```
"\u{20bb7}" //"†Æ∑"
```

More on Unicode and working with it in my [Unicode guide](https://flaviocopes.com/unicode/).

### New Object methods

ES2015 introduced several static methods under the Object namespace:

- `Object.is()` determines if two values are the same value
- `Object.assign()` used to shallow copy an object
- `Object.setPrototypeOf` sets an object prototype

#### Object.is()

This methods aims to help comparing values.

Usage:

```
Object.is(a, b)
```

The result is always `false` unless:

- `a` and `b` are the same exact object
- `a` and `b` are equal strings (strings are equal when composed by the same characters)
- `a` and `b` are equal numbers (numbers are equal when their value is equal)
- `a` and `b` are both `undefined`, both `null`, both `NaN`, both `true` or both `false`

`0` and `-0` are different values in JavaScript, so pay attention in this special case (convert all to `+0` using the `+` unary operator before comparing, for example).

#### Object.assign()

Introduced in `ES2015`, this method copies all the **enumerable own properties** of one or more objects into another.

Its primary use case is to create a shallow copy of an object.

```
const copied = Object.assign({}, original)
```

Being a shallow copy, values are cloned, and objects references are copied (not the objects themselves), so if you edit an object property in the original object, that‚Äôs modified also in the copied object, since the referenced inner object is the same:

```
const original = {
  name: 'Fiesta',
  car: {
    color: 'blue'
  }
}
const copied = Object.assign({}, original)
original.name = 'Focus'
original.car.color = 'yellow'
copied.name //Fiesta
copied.car.color //yellow
```

I mentioned ‚Äúone or more‚Äù:

```
const wisePerson = {
  isWise: true
}
const foolishPerson = {
  isFoolish: true
}
const wiseAndFoolishPerson = Object.assign({}, wisePerson, foolishPerson)
console.log(wiseAndFoolishPerson) //{ isWise: true, isFoolish: true }
```

#### Object.setPrototypeOf()

Set the prototype of an object. Accepts two arguments: the object and the prototype.

Usage:

```
Object.setPrototypeOf(object, prototype)
```

Example:

```
const animal = {
  isAnimal: true
}
const mammal = {
  isMammal: true
}
mammal.__proto__ = animal
mammal.isAnimal //true
const dog = Object.create(animal)
dog.isAnimal  //true
console.log(dog.isMammal)  //undefined
Object.setPrototypeOf(dog, mammal)
dog.isAnimal //true
dog.isMammal //true
```

### The spread operator

You can expand an array, an object or a string using the spread operator `...`

Let‚Äôs start with an array example. Given

```
const a = [1, 2, 3]
```

you can create a new array using

```
const b = [...a, 4, 5, 6]
```

You can also create a copy of an array using

```
const c = [...a]
```

This works for objects as well. Clone an object with:

```
const newObj = { ...oldObj }
```

Using strings, the spread operator creates an array with each char in the string:

```
const hey = 'hey'
const arrayized = [...hey] // ['h', 'e', 'y']
```

This operator has some pretty useful applications. The most important one is the ability to use an array as function argument in a very simple way:

```
const f = (foo, bar) => {}
const a = [1, 2]
f(...a)
```

(In the past you could do this using `f.apply(null, a)` but that's not as nice and readable.)

The **rest element** is useful when working with **array destructuring**:

```
const numbers = [1, 2, 3, 4, 5]
[first, second, ...others] = numbers
```

and **spread elements**:

```
const numbers = [1, 2, 3, 4, 5]
const sum = (a, b, c, d, e) => a + b + c + d + e
const sum = sum(...numbers)
```

ES2018 introduces rest properties, which are the same but for objects.

**Rest properties**:

```
const { first, second, ...others } = {
  first: 1,
  second: 2,
  third: 3,
  fourth: 4,
  fifth: 5
}
first // 1
second // 2
others // { third: 3, fourth: 4, fifth: 5 }
```

**Spread properties** allow us to create a new object by combining the properties of the object passed after the spread operator:

```
const items = { first, second, ...others }
items //{ first: 1, second: 2, third: 3, fourth: 4, fifth: 5 }
```

### Set

A Set data structure allows us to add data to a container.

A Set is a collection of objects or primitive types (strings, numbers or booleans), and you can think of it as a Map where values are used as map keys, with the map value always being a boolean true.

#### Initialize a Set

A Set is initialized by calling:

```
const s = new Set()
```

#### Add items to a Set

You can add items to the Set by using the `add` method:

```
s.add('one')
s.add('two')
```

A set only stores unique elements, so calling `s.add('one')` multiple times won't add new items.

You can‚Äôt add multiple elements to a set at the same time. You need to call `add()` multiple times.

#### Check if an item is in the set

Once an element is in the set, we can check if the set contains it:

```
s.has('one') //true
s.has('three') //false
```

#### Delete an item from a Set by key

Use the `delete()` method:

```
s.delete('one')
```

#### Determine the number of items in a Set

Use the `size` property:

```
s.size
```

#### Delete all items from a Set

Use the `clear()` method:

```
s.clear()
```

#### Iterate the items in a Set

Use the `keys()` or `values()` methods - they are equivalent:

```
for (const k of s.keys()) {
  console.log(k)
}
for (const k of s.values()) {
  console.log(k)
}
```

The `entries()` method returns an iterator, which you can use like this:

```
const i = s.entries()
console.log(i.next())
```

calling `i.next()` will return each element as a `{ value, done = false }`object until the iterator ends, at which point `done` is `true`.

You can also use the forEach() method on the set:

```
s.forEach(v => console.log(v))
```

or you can just use the set in a for..of loop:

```
for (const k of s) {
  console.log(k)
}
```

#### Initialize a Set with values

You can initialize a Set with a set of values:

```
const s = new Set([1, 2, 3, 4])
```

#### Convert the Set keys into an array

```
const a = [...s.keys()]
// or
const a = [...s.values()]
```

#### A WeakSet

A WeakSet is a special kind of Set.

In a Set, items are never garbage collected. A WeakSet instead lets all its items be freely garbage collected. Every key of a WeakSet is an object. When the reference to this object is lost, the value can be garbage collected.

Here are the main differences:

1. you cannot iterate over the WeakSet
2. you cannot clear all items from a WeakSet
3. you cannot check its size

A WeakSet is generally used by framework-level code, and only exposes these methods:

- add()
- has()
- delete()

### Map

A Map data structure allows us to associate data to a key.

#### Before ES6

Before its introduction, people generally used objects as maps, by associating some object or value to a specific key value:

```
const car = {}
car['color'] = 'red'
car.owner = 'Flavio'
console.log(car['color']) //red
console.log(car.color) //red
console.log(car.owner) //Flavio
console.log(car['owner']) //Flavio
```

#### Enter Map

ES6 introduced the Map data structure, providing us a proper tool to handle this kind of data organization.

A Map is initialized by calling:

```
const m = new Map()
```

#### Add items to a Map

You can add items to the map by using the `set` method:

```
m.set('color', 'red')
m.set('age', 2)
```

#### Get an item from a map by key

And you can get items out of a map by using `get`:

```
const color = m.get('color')
const age = m.get('age')
```

#### Delete an item from a map by key

Use the `delete()` method:

```
m.delete('color')
```

#### Delete all items from a map

Use the `clear()` method:

```
m.clear()
```

#### Check if a map contains an item by key

Use the `has()` method:

```
const hasColor = m.has('color')
```

#### Find the number of items in a map

Use the `size` property:

```
const size = m.size
```

#### Initialize a map with values

You can initialize a map with a set of values:

```
const m = new Map([['color', 'red'], ['owner', 'Flavio'], ['age', 2]])
```

#### Map keys

Just like any value (object, array, string, number) can be used as the value of the key-value entry of a map item, **any value can be used as the key**, even objects.

If you try to get a non-existing key using `get()` out of a map, it will return `undefined`.

#### Weird situations you‚Äôll almost never find in real life

```
const m = new Map()
m.set(NaN, 'test')
m.get(NaN) //test
const m = new Map()
m.set(+0, 'test')
m.get(-0) //test
```

#### Iterate over map keys

Map offers the `keys()` method we can use to iterate on all the keys:

```
for (const k of m.keys()) {
  console.log(k)
}
```

#### Iterate over map values

The Map object offers the `values()` method we can use to iterate on all the values:

```
for (const v of m.values()) {
  console.log(v)
}
```

#### Iterate over map key, value pairs

The Map object offers the `entries()` method we can use to iterate on all the values:

```
for (const [k, v] of m.entries()) {
  console.log(k, v)
}
```

which can be simplified to

```
for (const [k, v] of m) {
  console.log(k, v)
}
```

#### Convert the map keys into an array

```
const a = [...m.keys()]
```

#### Convert the map values into an array

```
const a = [...m.values()]
```

#### WeakMap

A WeakMap is a special kind of map.

In a map object, items are never garbage collected. A WeakMap instead lets all its items be freely garbage collected. Every key of a WeakMap is an object. When the reference to this object is lost, the value can be garbage collected.

Here are the main differences:

1. you cannot iterate over the keys or values (or key-values) of a WeakMap
2. you cannot clear all items from a WeakMap
3. you cannot check its size

A WeakMap exposes those methods, which are equivalent to the Map ones:

- `get(k)`
- `set(k, v)`
- `has(k)`
- `delete(k)`

The use cases of a WeakMap are less evident than the ones of a Map, and you might never find the need for them, but essentially it can be used to build a memory-sensitive cache that is not going to interfere with garbage collection, or for careful encapsulation and information hiding.

### Generators

Generators are a special kind of function with the ability to pause itself, and resume later, allowing other code to run in the meantime.

See the full JavaScript Generators Guide for a detailed explanation of the topic.

The code decides that it has to wait, so it lets other code ‚Äúin the queue‚Äù to run, and keeps the right to resume its operations ‚Äúwhen the thing it‚Äôs waiting for‚Äù is done.

All this is done with a single, simple keyword: `yield`. When a generator contains that keyword, the execution is halted.

A generator can contain many `yield` keywords, thus halting itself multiple times, and it's identified by the `*function` keyword, which is not to be confused with the pointer dereference operator used in lower level programming languages such as C, C++ or Go.

Generators enable whole new paradigms of programming in JavaScript, allowing:

- 2-way communication while a generator is running
- long-lived while loops which do not freeze your program

Here is an example of a generator which explains how it all works.

```
function *calculator(input) {
    var doubleThat = 2 * (yield (input / 2))
    var another = yield (doubleThat)
    return (input * doubleThat * another)
}
```

We initialize it with

```
const calc = calculator(10)
```

Then we start the iterator on our generator:

```
calc.next()
```

This first iteration starts the iterator. The code returns this object:

```
{
  done: false
  value: 5
}
```

What happens is: the code runs the function, with `input = 10` as it was passed in the generator constructor. It runs until it reaches the `yield`, and returns the content of `yield`: `input / 2 = 5`. So we got a value of 5, and the indication that the iteration is not done (the function is just paused).

In the second iteration we pass the value `7`:

```
calc.next(7)
```

and what we got back is:

```
{
  done: false
  value: 14
}
```

`7` was placed as the value of `doubleThat`. Important: you might read like `input / 2` was the argument, but that's just the return value of the first iteration. We now skip that, and use the new input value, `7`, and multiply it by 2.

We then reach the second yield, and that returns `doubleThat`, so the returned value is `14`.

In the next, and last, iteration, we pass in 100

```
calc.next(100)
```

and in return we got

```
{
  done: true
  value: 14000
}
```

As the iteration is done (no more yield keywords found) and we just return `(input * doubleThat * another)` which amounts to `10 * 14 * 100`.

------

Those were the features introduced in ES2015. Let‚Äôs now dive into ES2016 which is much smaller in scope.

------

### Array.prototype.includes()

This feature introduces a more readable syntax for checking if an array contains an element.

With ES6 and lower, to check if an array contained an element you had to use `indexOf`, which checks the index in the array, and returns `-1` if the element is not there.

Since `-1` is evaluated as a true value, you could **not** do for example

```
if (![1,2].indexOf(3)) {
  console.log('Not found')
}
```

With this feature introduced in ES7 we can do

```
if (![1,2].includes(3)) {
  console.log('Not found')
}
```

### Exponentiation Operator

The exponentiation operator `**` is the equivalent of `Math.pow()`, but brought into the language instead of being a library function.

```
Math.pow(4, 2) == 4 ** 2
```

This feature is a nice addition for math intensive JS applications.

The `**` operator is standardized across many languages including Python, Ruby, MATLAB, Lua, Perl and many others.



![img](https://cdn-images-1.medium.com/max/1600/1*ta8eBjBIGeJucahugjlopg.png)

------

Those were the features introduced in 2016. Let‚Äôs now dive into 2017

------

### String padding

The purpose of string padding is to **add characters to a string**, so it **reaches a specific length**.

ES2017 introduces two `String` methods: `padStart()` and `padEnd()`.

```
padStart(targetLength [, padString])
padEnd(targetLength [, padString])
```

Sample usage:



![img](https://cdn-images-1.medium.com/max/1600/1*dn9xi0ABHBNXUClPtUMPEg.png)

### Object.values()

This method returns an array containing all the object own property values.

Usage:

```
const person = { name: 'Fred', age: 87 }
Object.values(person) // ['Fred', 87]
```

`Object.values()` also works with arrays:

```
const people = ['Fred', 'Tony']
Object.values(people) // ['Fred', 'Tony']
```

### Object.entries()

This method returns an array containing all the object own properties, as an array of `[key, value]` pairs.

Usage:

```
const person = { name: 'Fred', age: 87 }
Object.entries(person) // [['name', 'Fred'], ['age', 87]]
```

`Object.entries()` also works with arrays:

```
const people = ['Fred', 'Tony']
Object.entries(people) // [['0', 'Fred'], ['1', 'Tony']]
```

### Object.getOwnPropertyDescriptors()

This method returns all own (non-inherited) properties descriptors of an object.

Any object in JavaScript has a set of properties, and each of these properties has a descriptor.

A descriptor is a set of attributes of a property, and it‚Äôs composed by a subset of the following:

- **value**: the value of the property
- **writable**: true the property can be changed
- **get**: a getter function for the property, called when the property is read
- **set**: a setter function for the property, called when the property is set to a value
- **configurable**: if false, the property cannot be removed nor any attribute can be changed, except its value
- **enumerable**: true if the property is enumerable

`Object.getOwnPropertyDescriptors(obj)` accepts an object, and returns an object with the set of descriptors.

#### In what way is this useful?

ES6 gave us `Object.assign()`, which copies all enumerable own properties from one or more objects, and return a new object.

However there is a problem with that, because it does not correctly copies properties with non-default attributes.

If an object for example has just a setter, it‚Äôs not correctly copied to a new object, using `Object.assign()`.

For example with

```
const person1 = {
    set name(newName) {
        console.log(newName)
    }
}
```

This won‚Äôt work:

```
const person2 = {}
Object.assign(person2, person1)
```

But this will work:

```
const person3 = {}
Object.defineProperties(person3,
  Object.getOwnPropertyDescriptors(person1))
```

As you can see with a simple console test:

```
person1.name = 'x'
"x"
person2.name = 'x'
person3.name = 'x'
"x"
```

`person2` misses the setter, it was not copied over.

The same limitation goes for shallow cloning objects with **Object.create()**.

### Trailing commas

This feature allows to have trailing commas in function declarations, and in functions calls:

```
const doSomething = (var1, var2,) => {
  //...
}
doSomething('test2', 'test2',)
```

This change will encourage developers to stop the ugly ‚Äúcomma at the start of the line‚Äù habit.

### Async functions

JavaScript evolved in a very short time from callbacks to promises (ES2015), and since ES2017 asynchronous JavaScript is even simpler with the async/await syntax.

Async functions are a combination of promises and generators, and basically, they are a higher level abstraction over promises. Let me repeat: **async/await is built on promises**.

#### Why were async/await introduced?

They reduce the boilerplate around promises, and the ‚Äúdon‚Äôt break the chain‚Äù limitation of chaining promises.

When Promises were introduced in ES2015, they were meant to solve a problem with asynchronous code, and they did, but over the 2 years that separated ES2015 and ES2017, it was clear that *promises could not be the final solution*.

Promises were introduced to solve the famous *callback hell* problem, but they introduced complexity on their own, and syntax complexity.

They were good primitives around which a better syntax could be exposed to developers, so when the time was right we got **async functions**.

They make the code look like it‚Äôs synchronous, but it‚Äôs asynchronous and non-blocking behind the scenes.

#### How it works

An async function returns a promise, like in this example:

```
const doSomethingAsync = () => {
  return new Promise(resolve => {
    setTimeout(() => resolve('I did something'), 3000)
  })
}
```

When you want to **call** this function you prepend `await`, and **the calling code will stop until the promise is resolved or rejected**. One caveat: the client function must be defined as `async`. Here's an example:

```
const doSomething = async () => {
  console.log(await doSomethingAsync())
}
```

#### A quick example

This is a simple example of async/await used to run a function asynchronously:

```
const doSomethingAsync = () => {
  return new Promise(resolve => {
    setTimeout(() => resolve('I did something'), 3000)
  })
}
const doSomething = async () => {
  console.log(await doSomethingAsync())
}
console.log('Before')
doSomething()
console.log('After')
```

The above code will print the following to the browser console:

```
Before
After
I did something //after 3s
```

#### ÂÖ≥‰∫é Promise

Â∞Ü `async` ÂÖ≥ÈîÆÂ≠óÊ†áËÆ∞Âú®‰ªª‰ΩïÂáΩÊï∞‰∏äÔºåÊÑèÂë≥ÁùÄËøô‰∏™ÂáΩÊï∞ÈÉΩÂ∞ÜËøîÂõû‰∏Ä‰∏™ PromiseÔºåÂç≥‰ΩøËøô‰∏™ÂáΩÊï∞Ê≤°ÊúâÊòæÂºèÁöÑËøîÂõûÔºåÂÆÉÂú®ÂÜÖÈÉ®‰πü‰ºöËøîÂõû‰∏Ä‰∏™ PromiseÔºåËøôÂ∞±ÊòØ‰∏ãÈù¢Ëøô‰ªΩ‰ª£Á†ÅÊúâÊïàÁöÑÂéüÂõ†Ôºö

``` javascript
const aFunction = async () => {
  return 'test'
}
aFunction().then(alert) // This will alert 'test'
```

‰∏ãÈù¢ÁöÑ‰æãÂ≠ê‰πü‰∏ÄÊ†∑:

```javascript
const aFunction = async () => {
  return Promise.resolve('test')
}
aFunction().then(alert) // This will alert 'test'
```

#### Êõ¥Êòì‰∫éÈòÖËØªÁöÑ‰ª£Á†Å

Ê≠£Â¶Ç‰∏äËø∞ÁöÑ‰æãÂ≠êÔºåÊàë‰ª¨Â∞ÜÂÆÉ‰∏éÊôÆÈÄöÂõûË∞ÉÂáΩÊï∞ÊàñÈìæÂºèÂáΩÊï∞ËøõË°åÊØîËæÉÔºåÊàë‰ª¨ÁöÑ‰ª£Á†ÅÁúãËµ∑Êù•ÈùûÂ∏∏ÁöÑÁÆÄÂçï„ÄÇ

ËøôÊòØ‰∏Ä‰∏™ÂæàÁÆÄÂçïÁöÑ‰æãÂ≠êÔºåÂΩì‰ª£Á†ÅË∂≥Â§üÂ§çÊùÇÊó∂ÔºåÂÆÉ‰ºö‰∫ßÁîüÊõ¥Â§öÁöÑÊî∂Áõä„ÄÇ

‰æãÂ¶ÇÔºå‰ΩøÁî® Promise Êù•Ëé∑Âèñ JSON ËµÑÊ∫êÂπ∂Ëß£ÊûêÂÆÉÔºö

```javascript
const getFirstUserData = () => {
  return fetch('/users.json') // get users list
    .then(response => response.json()) // parse JSON
    .then(users => users[0]) // pick first user
    .then(user => fetch(`/users/${user.name}`)) // get user data
    .then(userResponse => response.json()) // parse JSON
}
getFirstUserData()
```

ËøôÊòØ‰ΩøÁî® async/await ÂÆûÁé∞Áõ∏ÂêåÂäüËÉΩÁöÑ‰æãÂ≠êÔºö

```javascript
const getFirstUserData = async () => {
  const response = await fetch('/users.json') // get users list
  const users = await response.json() // parse JSON
  const user = users[0] // pick first user
  const userResponse = await fetch(`/users/${user.name}`) // get user data
  const userData = await user.json() // parse JSON
  return userData
}
getFirstUserData()
```

#### ‰∏≤Ë°åÂ§ö‰∏™ÂºÇÊ≠•ÂäüËÉΩ

async ÂáΩÊï∞ÈùûÂ∏∏ÂÆπÊòìÔºåÂπ∂‰∏îÂÆÉÁöÑËØ≠Ê≥ïÊØî Promise Êõ¥ÊòìËØª„ÄÇ


```javascript
const promiseToDoSomething = () => {
  return new Promise(resolve => {
    setTimeout(() => resolve('I did something'), 10000)
  })
}
const watchOverSomeoneDoingSomething = async () => {
  const something = await promiseToDoSomething()
  return something + ' and I watched'
}
const watchOverSomeoneWatchingSomeoneDoingSomething = async () => {
  const something = await watchOverSomeoneDoingSomething()
  return something + ' and I watched as well'
}
watchOverSomeoneWatchingSomeoneDoingSomething().then(res => {
  console.log(res)
})
```

ÊâìÂç∞ÁªìÊûú:

```
I did something and I watched and I watched as well
```

#### Êõ¥ÁÆÄÂçïÁöÑË∞ÉËØï

Ë∞ÉËØï Promise Â∞±ÂæàÂõ∞ÈöæÔºåÂõ†‰∏∫Ë∞ÉËØïÂô®Êó†Ê≥ïË∑®Ë∂äÂºÇÊ≠•‰ª£Á†ÅÔºå‰ΩÜË∞ÉËØï async/await Â∞±ÈùûÂ∏∏ÁöÑÁÆÄÂçïÔºåË∞ÉËØïÂô®‰ºöÂÉèË∞ÉËØïÂêåÊ≠•‰ª£Á†Å‰∏ÄÊ†∑Êù•Â§ÑÁêÜÂÆÉ„ÄÇ

### ÂÖ±‰∫´ÂÜÖÂ≠òÂíåÂéüÂ≠ê

WebWorkers ÂèØ‰ª•Âú®ÊµèËßàÂô®‰∏≠ÂàõÂª∫Â§öÁ∫øÁ®ãÁ®ãÂ∫è„ÄÇ

ÂÆÉ‰ª¨ÈÄöËøá‰∫ã‰ª∂ÁöÑÊñπÂºèÊù•‰º†ÈÄíÊ∂àÊÅØÔºå‰ªé ES2017 ÂºÄÂßãÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî® `SharedArrayBuffer` Âú®ÊØè‰∏Ä‰∏™ Worker ‰∏≠ÂíåÂÆÉ‰ª¨ÁöÑÂàõÂª∫ËÄÖ‰πãÈó¥ÂÖ±‰∫´ÂÜÖÂ≠òÊï∞ÁªÑ.

Áî±‰∫é‰∏çÁü•ÈÅìÂÜôÂÖ•ÂÜÖÂ≠òÈÉ®ÂàÜÈúÄË¶ÅÂ§öÈïøÁöÑÂë®ÊúüÊù•ÂπøÊí≠ÔºåÂõ†Ê≠§Âú®ËØªÂèñÂÄºÊó∂Ôºå‰ªª‰ΩïÁ±ªÂûãÁöÑÂÜôÂÖ•Êìç‰ΩúÈÉΩ‰ºöÂÆåÊàêÔºå`Atomics` ÂèØ‰ª•ÈÅøÂÖçÁ´û‰∫âÊù°‰ª∂ÁöÑÂèëÁîü„ÄÇ

ÂÖ≥‰∫éÂÆÉÁöÑÊõ¥Â§öÁªÜËäÇÂèØ‰ª•Âú®[proposal](https://github.com/tc39/ecmascript_sharedmem/blob/master/TUTORIAL.md)‰∏≠ÊâæÂà∞„ÄÇ

------

ËøôÊòØ ES2017ÔºåÊé•‰∏ãÊù•ÊàëÂ∞Ü‰ªãÁªç ES2018 ÁöÑÂäüËÉΩ„ÄÇ

------

### Rest/Spread Properties

ES2015 ÂºïÂÖ•‰∫ÜËß£ÊûÑÊï∞ÁªÑÁöÑÊñπÊ≥ïÔºåÂΩì‰Ω†‰ΩøÁî®Êó∂Ôºö

```javascript
const numbers = [1, 2, 3, 4, 5]
[first, second, ...others] = numbers
```

and **Â±ïÂºÄÂèÇÊï∞**:

```javascript
const numbers = [1, 2, 3, 4, 5]
const sum = (a, b, c, d, e) => a + b + c + d + e
const sum = sum(...numbers)
```

ES2018 ‰∏∫ÂØπË±°ÂºïÂÖ•‰∫ÜÂêåÊ†∑ÁöÑÂäüËÉΩ„ÄÇ

**Ëß£ÊûÑ**:

```javascript
const { first, second, ...others } = { first: 1, second: 2, third: 3, fourth: 4, fifth: 5 }
first // 1
second // 2
others // { third: 3, fourth: 4, fifth: 5 }
```

**Â±ïÂºÄÂ±ûÊÄß** ÂÖÅËÆ∏ÈÄöËøáÁªÑÂêàÂú®Â±ïÂºÄËøêÁÆóÁ¨¶‰πãÂêé‰º†ÈÄíÁöÑÂØπË±°Â±ûÊÄßËÄåÂàõÂª∫Êñ∞ÂØπË±°Ôºö

```javascript
const items = { first, second, ...others }
items //{ first: 1, second: 2, third: 3, fourth: 4, fifth: 5 }
```

### ÂºÇÊ≠•Ëø≠‰ª£Âô®

`for-await-of` ÂÖÅËÆ∏‰Ω†‰ΩøÁî®ÂºÇÊ≠•ÂèØËø≠‰ª£ÂØπË±°ÂÅö‰∏∫Âæ™ÁéØËø≠‰ª£Ôºö


```javascript
for await (const line of readLines(filePath)) {
  console.log(line)
}
```

Âõ†‰∏∫ÂÆÉ‰ΩøÁî®ÁöÑ‰∫Ü `await`ÔºåÂõ†Ê≠§‰Ω†Âè™ËÉΩÂú® `async` ÂáΩÊï∞‰∏≠‰ΩøÁî®ÂÆÉ„ÄÇ

### Promise.prototype.finally()

ÂΩì‰∏Ä‰∏™ Promise ÊòØ fulfilled Êó∂ÔºåÂÆÉ‰ºö‰∏Ä‰∏™Êé•‰∏Ä‰∏™ÁöÑË∞ÉÁî® then„ÄÇ

Â¶ÇÊûúÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÂèëÁîü‰∫ÜÈîôËØØÔºåÂàô‰ºöË∑≥Ëøá `then` ËÄåÊâßË°å `catch`„ÄÇ

ËÄå `finally()` ÂÖÅËÆ∏‰Ω†ËøêË°å‰∏Ä‰∫õ‰ª£Á†ÅÔºåÊó†ËÆ∫ÊòØÊàêÂäüËøòÊòØÂ§±Ë¥•Ôºö

```javascript
fetch('file.json')
  .then(data => data.json())
  .catch(error => console.error(error))
  .finally(() => console.log('finished'))
```

### Ê≠£ÂàôË°®ËææÂºèÊîπËøõ

ES2018 ÂØπÊ≠£ÂàôË°®ËææÂºèÂºïÂÖ•‰∫ÜËÆ∏Â§öÊîπËøõÔºåËøô‰∫õÈÉΩÂèØ‰ª•Âú® <https://flaviocopes.com/javascript-regular-expressions/> ‰∏äÊâæÂà∞„ÄÇ

‰ª•‰∏ãÊòØÂÖ≥‰∫é ES2018 Ê≠£ÂàôË°®ËææÂºèÊîπËøõÁöÑÂÖ∑‰ΩìË°•ÂÖÖÔºö

#### RegExp lookbehind assertions: Ê†πÊçÆÂâçÈù¢ÁöÑÂÜÖÂÆπÂåπÈÖçÂ≠óÁ¨¶‰∏≤

ËøôÊòØ‰∏Ä‰∏™ lookahead: ‰Ω†ÂèØ‰ª•‰ΩøÁî® `?=` Êù•ÂåπÈÖçÂ≠óÁ¨¶‰∏≤ÔºåÂêéÈù¢Ë∑üÈöè‰∏Ä‰∏™ÁâπÂÆöÁöÑÂ≠óÁ¨¶‰∏≤Ôºö

```javascript
/Roger(?=Waters)/
/Roger(?= Waters)/.test('Roger is my dog') //false
/Roger(?= Waters)/.test('Roger is my dog and Roger Waters is a famous musician') //true
```

`?!` ÂèØ‰ª•ÊâßË°åÈÄÜÊìç‰ΩúÔºåÂ¶ÇÊûúÂåπÈÖçÁöÑÂ≠óÁ¨¶‰∏≤ÊòØ**no**ËÄå‰∏çÊòØÂú®Ê≠§ÂêéË∑üÈöèÁâπÂÆöÁöÑÂ≠êÂ≠óÁ¨¶‰∏≤ÁöÑËØùÔºö

```javascript
/Roger(?!Waters)/
/Roger(?! Waters)/.test('Roger is my dog') //true
/Roger(?! Waters)/.test('Roger Waters is a famous musician') //false
```


Lookaheads ‰ΩøÁî® `?=` SymbolÔºåÂÆÉ‰ª¨Â∑≤ÁªèÂèØ‰ª•Áî®‰∫Ü„ÄÇ

**Lookbehinds**, ÊòØ‰∏Ä‰∏™Êñ∞ÂäüËÉΩ‰ΩøÁî®`?<=`.

```javascript
/(?<=Roger) Waters/
/(?<=Roger) Waters/.test('Pink Waters is my dog') //false
/(?<=Roger) Waters/.test('Roger is my dog and Roger Waters is a famous musician') //true
```

Â¶ÇÊûú‰∏Ä‰∏™ lookbehind ÊòØÂê¶ÂÆöÔºåÈÇ£‰πà‰ΩøÁî® `?>!`:

```javascript
/(?<!Roger) Waters/
/(?<!Roger) Waters/.test('Pink Waters is my dog') //true
/(?<!Roger) Waters/.test('Roger is my dog and Roger Waters is a famous musician') //false
```

#### UnicodeÂ±ûÊÄßËΩ¨‰πâ `\p{‚Ä¶}` and `\P{‚Ä¶}`

Âú®Ê≠£ÂàôË°®ËææÂºèÊ®°Âºè‰∏≠Ôºå‰Ω†ÂèØ‰ª•‰ΩøÁî® `\d` Êù•ÂåπÈÖç‰ªªÊÑèÁöÑÊï∞Â≠óÔºå`\s` Êù•ÂåπÈÖç‰ªªÊÑè‰∏çÊòØÁ©∫Ê†ºÁöÑÂ≠óÁ¨¶‰∏≤Ôºå`\w` Êù•ÂåπÈÖç‰ªªÊÑèÂ≠óÊØçÊï∞Â≠óÂ≠óÁ¨¶‰∏≤Ôºå‰ª•Ê≠§Á±ªÊé®„ÄÇ

This new feature extends this concept to all Unicode characters introducing `\p{}` and is negation `\P{}`.

Ëøô‰∏™Êñ∞ÂäüËÉΩÊâ©Â±ï‰∫ÜunicodeÂ≠óÁ¨¶ÔºåÂºïÂÖ•‰∫Ü `\p{}` Êù•Â§ÑÁêÜ

‰ªª‰Ωï unicode Â≠óÁ¨¶ÈÉΩÊúâ‰∏ÄÁªÑÂ±ûÊÄßÔºå‰æãÂ¶Ç `script` Á°ÆËÆ§ËØ≠Ë®ÄÔºå`ASCII` ÊòØ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÁî®‰∫éÊ£ÄÊü• ASCII Â≠óÁ¨¶„ÄÇ‰Ω†ÂèØ‰ª•Â∞ÜÊ≠§Â±ûÊÄßÊñπÂú®() ‰∏≠ÔºåÊ≠£ÂàôË°®ËææÂºèÂ∞ÜÊù•Ê£ÄÊü•ÊòØÂê¶‰∏∫Áúü„ÄÇ 

```javascript
/^\p{ASCII}+$/u.test('abc')   //‚úÖ
/^\p{ASCII}+$/u.test('ABC@')  //‚úÖ
/^\p{ASCII}+$/u.test('ABCüôÉ') //‚ùå
```

`ASCII_Hex_Digit` ÊòØÂè¶‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåÁî®‰∫éÊ£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÂê¶ÂåÖÂê´ÊúâÊïàÁöÑÂçÅÂÖ≠ËøõÂà∂Êï∞Â≠óÔºö

```javascript
/^\p{ASCII_Hex_Digit}+$/u.test('0123456789ABCDEF') //‚úÖ
/^\p{ASCII_Hex_Digit}+$/u.test('h')                //‚ùå
```

Ê≠§Â§ñÔºåËøòÊúâÂæàÂ§öÂÖ∂‰ªñÁöÑÂ±ûÊÄß„ÄÇ‰Ω†ÂèØ‰ª•Âú®()‰∏≠Ê∑ªÂä†ÂÆÉ‰ª¨ÁöÑÂêçÂ≠óÊù•Ê£ÄÊü•ÂÆÉ‰ª¨ÔºåÂåÖÊã¨ `Uppercase`, `Lowercase`, `White_Space`, `Alphabetic`, `Emoji`Á≠âÁ≠âÔºö

```javascript
/^\p{Lowercase}$/u.test('h') //‚úÖ
/^\p{Uppercase}$/u.test('H') //‚úÖ
/^\p{Emoji}+$/u.test('H')   //‚ùå
/^\p{Emoji}+$/u.test('üôÉüôÉ') //‚úÖ
```

Èô§‰∫Ü‰∫åËøõÂà∂Â±ûÊÄßÂ§ñÔºå‰Ω†ËøòÂèØ‰ª•Ê£ÄÊü•‰ªª‰Ωï unicode Â≠óÁ¨¶Â±ûÊÄß‰ª•ÂåπÈÖçÁâπÂÆöÁöÑÂÄºÔºåÂú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊàëÊ£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÁî®Â∏åËÖäËØ≠ËøòÊòØÊãâ‰∏ÅÂ≠óÊØçÂÜôÁöÑÔºö

```javascript
/^\p{Script=Greek}+$/u.test('ŒµŒªŒªŒ∑ŒΩŒπŒ∫Œ¨') //‚úÖ
/^\p{Script=Latin}+$/u.test('hey') //‚úÖ
```

ÈòÖËØª[ttps://github.com/tc39/proposal-regexp-unicode-property-escapes](ttps://github.com/tc39/proposal-regexp-unicode-property-escapes) Ëé∑Âèñ‰ΩøÁî®ÊâÄÊúâÂ±ûÊÄßÁöÑËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ

#### Named capturing groups

In ES2018 a capturing group can be assigned to a name, rather than just being assigned a slot in the result array:

```javascript
const re = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/
const result = re.exec('2015-01-02')
// result.groups.year === '2015';
// result.groups.month === '01';
// result.groups.day === '02';
```

#### The `s` flag for regular expressions

The `s` flag, short for *single line*, causes the `.` to match new line characters as well. Without it, the dot matches regular characters but not the new line:

```
/hi.welcome/.test('hi\nwelcome') // false
/hi.welcome/s.test('hi\nwelcome') // true
```

------

### ESNext

What‚Äôs next? ESNext.

ESNext is a name that always indicates the next version of JavaScript.

The current ECMAScript version is **ES2018**. It was released in June 2018.

Historically JavaScript editions have been standardized during the summer, so we can expect **ECMAScript 2019** to be released in summer 2019.

So at the time of writing, ES2018 has been released, and **ESNext is ES2019**

Proposals to the ECMAScript standard are organized in stages. Stages 1‚Äì3 are an incubator of new features, and features reaching Stage 4 are finalized as part of the new standard.

At the time of writing we have a number of features at **Stage 4**. I will introduce them in this section. The latest versions of the major browsers should already implement most of those.

Some of those changes are mostly for internal use, but it‚Äôs also good to know what is going on.

There are other features at Stage 3, which might be promoted to Stage 4 in the next few months, and you can check them out on this GitHub repository: <https://github.com/tc39/proposals>.

### Array.prototype.{flat,flatMap}

`flat()` is a new array instance method that can create a one-dimensional array from a multidimensional array.

Example:

```
['Dog', ['Sheep', 'Wolf']].flat()
//[ 'Dog', 'Sheep', 'Wolf' ]
```

By default it only ‚Äúflats‚Äù up to one level, but you can add a parameter to set the number of levels you want to flat the array to. Set it to `Infinity` to have unlimited levels:

```
['Dog', ['Sheep', ['Wolf']]].flat()
//[ 'Dog', 'Sheep', [ 'Wolf' ] ]
['Dog', ['Sheep', ['Wolf']]].flat(2)
//[ 'Dog', 'Sheep', 'Wolf' ]
['Dog', ['Sheep', ['Wolf']]].flat(Infinity)
//[ 'Dog', 'Sheep', 'Wolf' ]
```

If you are familiar with the JavaScript `map()` method of an array, you know that using it you can execute a function on every element of an array.

`flatMap()` is a new Array instance method that combines `flat()` with `map()`. It's useful when calling a function that returns an array in the map() callback, but you want your resulted array to be flat:

```
['My dog', 'is awesome'].map(words => words.split(' '))
//[ [ 'My', 'dog' ], [ 'is', 'awesome' ] ]
['My dog', 'is awesome'].flatMap(words => words.split(' '))
//[ 'My', 'dog', 'is', 'awesome' ]
```

### Optional catch binding

ÊúâÊó∂ÂÄôÊàë‰ª¨Âπ∂‰∏çÈúÄË¶ÅÂ∞ÜÂèÇÊï∞ÁªëÂÆöÂà∞ try/catch ‰∏≠„ÄÇ

Âú®‰ª•ÂâçÊàë‰ª¨‰∏çÂæó‰∏çËøôÊ†∑ÂÅöÔºö

```javascript
try {
  //...
} catch (e) {
  //handle error
}
```

Âç≥‰ΩøÊàë‰ª¨‰ªéÊù•Ê≤°ÊúâÈÄöËøá `e` Êù•ÂàÜÊûêÈîôËØØÔºå‰ΩÜÁé∞Âú®Êàë‰ª¨ÂèØ‰ª•ÁÆÄÂçïÁöÑÁúÅÁï•ÂÆÉÔºö

```javascript
try {
  //...
} catch {
  //handle error
}
```

### Object.fromEntries()

Objects have an `entries()` method, since ES2017.

‰ªé ES2017 ÂºÄÂßã ObjectÂ∞ÜÊúâ‰∏Ä‰∏™ `entries()` ÊñπÊ≥ï„ÄÇ

ÂÆÉÂ∞ÜËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÊâÄÊúâÂØπË±°Ëá™Ë∫´Â±ûÊÄßÁöÑÊï∞ÁªÑÁöÑÊï∞ÁªÑÔºåÂ¶Ç`[key, value]`Ôºö

```javascript
const person = { name: 'Fred', age: 87 }
Object.entries(person) // [['name', 'Fred'], ['age', 87]]
```

ES2019 ÂºïÂÖ•‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑ `Object.fromEntries()` ÊñπÊ≥ïÔºåÂÆÉÂèØ‰ª•‰ªé‰∏äËø∞ÁöÑÂ±ûÊÄßÊï∞ÁªÑ‰∏≠ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂØπË±°Ôºö

```javascript
const person = { name: 'Fred', age: 87 }
const entries = Object.entries(person)
const newPerson = Object.fromEntries(entries)

person !== newPerson //true 
```

### String.prototype.{trimStart,trimEnd}

Ëøô‰∫õÂäüËÉΩÂ∑≤ÁªèË¢´ v8/Chrome ÂÆûÁé∞‰∫ÜËøë‰∏ÄÂπ¥ÁöÑÊó∂Èó¥ÔºåÂÆÉÂ∞ÜÂú® ES2019 ‰∏≠ÂÆûÁé∞Ê†áÂáÜÂåñ„ÄÇ

#### `trimStart()`

Âà†Èô§Â≠óÁ¨¶‰∏≤È¶ñÈÉ®ÁöÑÁ©∫Ê†ºÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤Ôºö

```javascript
'Testing'.trimStart() //'Testing'
' Testing'.trimStart() //'Testing'
' Testing '.trimStart() //'Testing '
'Testing'.trimStart() //'Testing'
```

#### `trimEnd()`

Âà†Èô§Â≠óÁ¨¶‰∏≤Â∞æÈÉ®ÁöÑÁ©∫Ê†ºÂπ∂ËøîÂõû‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤Ôºö

```javascript
'Testing'.trimEnd() //'Testing'
' Testing'.trimEnd() //' Testing'
' Testing '.trimEnd() //' Testing'
'Testing '.trimEnd() //'Testing'
```

### Symbol.prototype.description

Áé∞Âú®‰Ω†ÂèØ‰ª•‰ΩøÁî® `description` Êù•Ëé∑Âèñ Symbol ÁöÑÂÄºÔºåËÄå‰∏çÂøÖ‰ΩøÁî® `toString()` ÊñπÊ≥ïÔºö

```javascript
const testSymbol = Symbol('Test')
testSymbol.description // 'Test'
```

### JSON improvements

Âú®Ê≠§‰πãÂâç JSON Â≠óÁ¨¶‰∏≤‰∏≠‰∏çÂÖÅËÆ∏‰ΩøÁî®ÂàÜÈöîÁ¨¶Ôºà\u2028ÔºâÂíåÂàÜÈöîÁ¨¶Ôºà\u2029Ôºâ„ÄÇ

‰ΩøÁî® JSON.parse Êó∂ÔºåËøô‰∫õÂ≠óÁ¨¶‰ºöÂØºËá¥‰∏Ä‰∏™ `SyntaxError` ÈîôËØØÔºå‰ΩÜÁé∞Âú®ÂÆÉ‰ª¨ÂèØ‰ª•Ê≠£Á°ÆÁöÑËß£ÊûêÂπ∂Â¶Ç JSON Ê†áÂáÜÂÆö‰πâÁöÑÈÇ£Ê†∑„ÄÇ

### Well-formed JSON.stringify()

‰øÆÂ§ç `JSON.stringify()` Âú®Â§ÑÁêÜ UTF-8 code points (U+D800 to U+DFFF)„ÄÇ

Âú®‰øÆÂ§ç‰πãÂâçÔºåË∞ÉÁî® `JSON.stringify()` Â∞ÜËøîÂõûÊ†ºÂºèÈîôËØØÁöÑ Unicode Â≠óÁ¨¶ÔºåÂ¶ÇÔºàa "ÔøΩ")„ÄÇ

Áé∞Âú®‰Ω†ÂèØ‰ª•ÂÆâÂÖ®ÊîæÂøÉÁöÑ‰ΩøÁî® `JSON.stringify()` ËΩ¨ÊàêÂ≠óÁ¨¶‰∏≤Ôºå‰πüÂèØ‰ª•‰ΩøÁî® `JSON.parse()` Â∞ÜÂÆÉËΩ¨Êç¢ÂõûÂéüÂßãË°®Á§∫ÁöÑÂΩ¢ÊÄÅ„ÄÇ

### Function.prototype.toString()

ÂáΩÊï∞ÊÄª‰ºöÊúâ‰∏Ä‰∏™ `toString` ÊñπÊ≥ïÔºåÂÆÉÂ∞ÜËøîÂõû‰∏Ä‰∏™ÂåÖÂê´ÂáΩÊï∞‰ª£Á†ÅÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ

ES2019 ÂØπËøîÂõûÂÄºÂÅö‰∫Ü‰øÆÊîπÔºå‰ª•ÈÅøÂÖçÂâ•Á¶ªÊ≥®ÈáäÂíåÂÖ∂‰ªñÂ≠óÁ¨¶‰∏≤ÔºàÂ¶ÇÔºöÁ©∫Ê†ºÔºâÔºåÂ∞ÜÊõ¥ÂáÜÁ°ÆÁöÑË°®Á§∫ÂáΩÊï∞ÁöÑÂÆö‰πâ„ÄÇ

If previously we had

‰ª•Ââç‰πüËÆ∏Êàë‰ª¨ËøôÊ†∑ËøáÔºö

```javascript
function /* this is bar */ bar () {}
```

ÂΩìÊó∂ÁöÑË°å‰∏∫Ôºö

```
bar.toString() //'function bar() {}
```

Áé∞Âú®ÁöÑË°å‰∏∫Ôºö

```
bar.toString(); // 'function /* this is bar */ bar () {}'
```

------

ÊÄªÁªì‰∏Ä‰∏ãÔºåÊàëÂ∏åÊúõËøôÁØáÊñáÁ´†ÂèØ‰ª•Â∏ÆÂä©‰Ω†‰∫ÜËß£‰∏Ä‰∫õÊúÄÊñ∞ÁöÑ JavaScript ‰ª•ÂèäÊàë‰ª¨Âú® 2019 Âπ¥Âç≥Â∞ÜÁúãËßÅÁöÑÂÜÖÂÆπ„ÄÇ

[**Click here to get a PDF / ePub / Mobi version of this post to read offline**](https://flaviocopes.com/es5-to-next/)